---
layout: post
title: ELB λ¥Ό ν™μ©ν• HTTPS μ μ©ν•κΈ°μ™€ SSL μΈμ¦μ„κ°€ κ·Έλμ„ μ–΄λ–»κ² λ™μ‘ν•λ”λ°?
comments: true
excerpt: ""
date: 2024-08-27
categories: [DevOps]
tags: [ELB, HTTPS, SSL]
---

μ•λ…•ν•μ„Έμ”! μ΄λ²μ— [2024 SKT-ν•λ‚κΈμµκ·Έλ£Ή TECH4GOOD] μ— <span style="color:rgb(128,128,128)">(κ°•μ )</span> μ°Έμ—¬ν•κ² λλ©΄μ„
1λ°• 2μΌλ΅ μ§§κ² κ°λ°μ„ μ§„ν–‰ν•κ² λλ”λ°μ”! λΉ„λ΅ κ²°κ³Όλ” μ•„μ‰¬μ› μ§€λ§, λ‚΄κ°€ μ§§μ€ μ‹κ°„ μ•μ— μ΄ μ •λ„μ μ•„μ›ƒν’‹μ„ λ‚Ό μ μλ” μ‚¬λμ΄κµ¬λ‚λ¥Ό μ• κ² λμ—κ³ 
λ κΈ°νμ μΌλ΅ μ΄λ° λ¶€λ¶„μ΄ μ•„μ‰¬μ› κµ¬λ‚ λ“±μ„ λλ‚„ μ μμ–΄μ„ κ·ΈλΌμ—λ„ λ» κΉμ€ μ‹κ°„μ΄μ—μµλ‹λ‹¤

![image](https://github.com/user-attachments/assets/4fd1cee3-26bb-4ea2-ba95-d90fd518fc42)

κ°λ°μ„ μ§„ν–‰ν•λ μ¤‘μ— ν”„λ΅ νΈκ°€ λ²„μ…€λ΅ λ°°ν¬ν•κ² λλ©΄μ„ λ°±μ—”λ“λ„ HTTPS λ¥Ό ν•„μμ μΌλ΅ μ„¤μ •ν•΄μ•Ό ν–λ”λ°μ”
ELBλ¥Ό ν™μ©ν•΄μ„ HTTPS λ¥Ό μ μ©ν• κ²½ν—κ³Ό λ SSL μΈμ¦μ„μ™€ HTTPS κ°€ μ–΄λ–»κ² λ³΄μ•μ μΌλ΅ λ” μ•μ „ν•  μ μλ”μ§€μ— λ€ν• κ¶κΈμ¦μ΄ μƒκ²¨
μ΄μ— λ€ν•΄ λΈ”λ΅κ·Έλ¥Ό μ¨λ³΄λ ¤κ³  ν•©λ‹λ‹¤!

μ•„μ‰¬μ΄ μ μ΄ ν•λ‚ μλ‹¤λ©΄, λΉ λ¥Έ μ‹κ°„ λ‚΄μ— μ•„μ›ƒν’‹μ„ λ‚΄μ•Ό ν•λ‹¤ λ³΄λ‹ ELB μ μ© κ³Όμ •μ— λ€ν•΄ μΊ΅μ³λ¥Ό κ±°μ λ»ν–μµλ‹λ‹¤λ§..
`λ¨λ‘κ°€ μ“Έ μ μλ” λΈ”λ΅κ·Έλ” μ§€μ–‘ν•κ³ , λ‚΄ κ²½ν—μ„ λ…ΉμΌ μ μλ” λΈ”λ΅κ·Έλ¥Ό μ“°μ` κ°€ λΈ”λ΅κ·Έ μ›μΉ™ μ¤‘ ν•λ‚λΌ.. 
μ΄λ ‡κ² λ κ±° μ—†λ” μ‚¬μ§„κ³Ό μ μ© κ³Όμ • λ§νΌ, κ·Έ λ¶„λ‰μΌλ΅ λ” μ•μ°¨κ² λ‚΄μ©μ„ λ…Ήμ΄λ ¤ λ…Έλ ¥ν•λ ¤κ³ μ” π“
λ‚μ¤‘μ— λ‹¤μ‹ μ μ©ν•λ” κΈ°νκ°€ μ΅°λ§κ°„ μƒκΈ°λ©΄, κ·Έλ• μ‚¬μ§„μ„ λ” μ¶”κ°€ν•λ„λ΅ ν•κ² μµλ‹λ‹¤

## HTTPS μ™ ν•„μ”ν• κΉ?
μΌλ‹¨.. μ†”μ§ν•κ² μ €λ” μ΄ν‹€ κ°„μ ν•΄μ»¤ν†¤μ΄κ³  μ•„μ΄λ””μ–΄κ°€ μ¤‘μ”ν–κΈ°μ— HTTPS μ„¤μ •κΉμ§€λ” ν¬κ² κ³ λ ¤ν•μ§€ μ•μ•μΌλ‚
ν”„λ΅ νΈκ°€ λ²„μ…€λ΅ λ°°ν¬λλ©΄μ„ μ„λ²„λ„ HTTPS μ„¤μ •μ΄ λ¶κ°€ν”Όν•΄μ΅μµλ‹λ‹¤.

<img width="308" alt="" src="https://github.com/user-attachments/assets/9b579d7c-ac97-42c7-af2f-08e4a5e9b124">

νΉμ‹ HTTP μ‚¬μ΄νΈλ¥Ό μ΄μ©ν•μ‹λ©΄μ„ μ‚¬μ΄νΈκ°€ λ³΄μ• μ—°κ²°(HTTPS)κ°€ μ‚¬μ©λμ§€ μ•μ•„ μ‚¬μ΄νΈ μ •λ³΄κ°€ κ³µκ²©μμ— μν•΄ λ„μ©λ  μ μλ‹¤λ” μ„ν— λ¬Έκµ¬λ¥Ό λ§μ£Όν•΄λ³΄μ‹  μ  μμΌμ‹¤κΉμ”?
μ €λ” μμ „μ— μ €λ° λ¬Έκµ¬λ¥Ό λ³΄λ©΄μ„ HTTPSκ°€ λ­κΈΈλ, μ‚¬μ©ν•μ§€ μ•μΌλ©΄ κ³µκ²©μκ°€ λ„μ©ν•  μ μκ² λ κΉ κ¶κΈν–μ—λ”λ°μ”!

λ”°λΌμ„ HTTPS μ„¤μ •μ΄ μ™ ν•„μ”ν•κ°€μ— λ€ν•΄ ν•¨κ» μ„¤λ…ν•΄λ³΄κ³ μ ν•©λ‹λ‹¤

### μ΄μ  1. λ°μ΄ν„° μ•”νΈν™”

λ°μ΄ν„°λ¥Ό ν‰λ¬ΈμΌλ΅ μ „μ†΅ν•κΈ° λ•λ¬Έμ—, λ„¤νΈμ›ν¬μ—μ„ λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„λ” **μ¤‘κ°„μ κ³µκ²©**μ— λ§¤μ° μ·¨μ•½ν•©λ‹λ‹¤.
νΉν, λ΅κ·ΈμΈ μ •λ³΄λ‚ κ°μΈ λ°μ΄ν„°κ°€ μ „μ†΅λ  λ• μ΄ μ •λ³΄λ“¤μ΄ μ‰½κ² λ…Έμ¶λ  μ μμµλ‹λ‹¤. 
HTTPSλ” SSL/TLS ν”„λ΅ν† μ½μ„ ν†µν•΄ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ―€λ΅, μ¤‘κ°„μ— λ„κµ°κ°€κ°€ λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„λ”λΌλ„ κ·Έ λ‚΄μ©μ΄ μ•”νΈν™”λμ–΄ ν•΄λ…ν•  μ μ—†μ–΄ λ°μ΄ν„°μ κΈ°λ°€μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤. 

μ΄λ¬ν• λ°μ΄ν„° μ•”νΈν™”λ” `TLS ν”„λ΅ν† μ½`μ„ ν†µν•΄ μ΄λ£¨μ–΄μ§€λ©°, <BR> 
μ—¬κΈ°μ„ μ¤‘μ”ν• λ‘ κ°€μ§€ κ°λ…μ€ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”μ™€ λ€μΉ­ν‚¤ μ•”νΈν™”μ…λ‹λ‹¤.

#### λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”
ν†µμ‹  μ΄κΈ°μ— ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” μ„λ΅μ μ‹ μ›μ„ ν™•μΈν•κΈ° μ„ν•΄ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ” `κ³µκ°ν‚¤`μ™€ `κ°μΈν‚¤`λ΅ μ΄λ£¨μ–΄μ§€λ©°, μ΄ λ‘ ν‚¤λ” ν• μ½μ—μ„ μ•”νΈν™”ν• λ°μ΄ν„°λ” λ‹¤λ¥Έ μ½μ—μ„λ§ λ³µνΈν™”ν•  μ μλ” νΉμ„±μ„ κ°€μ§‘λ‹λ‹¤.
μ„λ²„λ” SSL μΈμ¦μ„λ¥Ό ν†µν•΄ κ³µκ°ν‚¤(κ³µκ°μ μΌλ΅ μ•λ ¤μ Έλ„ λλ” ν‚¤)λ¥Ό λΈλΌμ°μ €μ— μ κ³µν•©λ‹λ‹¤. 
λΈλΌμ°μ €λ” μ„λ²„μ κ³µκ°ν‚¤λ¥Ό μ‚¬μ©ν•΄ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•΄μ„ μ„λ²„λ΅ μ „μ†΅ν•κ³ , μ„λ²„λ” μμ‹ λ§μ΄ λ³΄μ ν• λΉ„λ°€ν‚¤(λΉ„κ³µκ°λ κ°μΈν‚¤)λ¥Ό μ‚¬μ©ν•΄ μ΄ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•©λ‹λ‹¤. 
μ΄ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ” μ•μ „ν•μ§€λ§ μ„±λ¥μ΄ λλ¦¬κΈ° λ•λ¬Έμ—, μ£Όλ΅ μ΄κΈ°μ—λ§ μ‚¬μ©λ©λ‹λ‹¤.

- **λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” κ³Όμ •**
  1. μ„λ²„λ” μ„λ²„ λ‚μμ™€ SSL μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ—κ² μ κ³µν•©λ‹λ‹¤. μ΄ μΈμ¦μ„μ—λ” μ„λ²„μ κ³µκ°ν‚¤μ™€ μ„λ²„μ μ‹ μ›μ„ ν™•μΈν•  μ μλ” μ •λ³΄( `κ³µμΈ μΈμ¦ κΈ°κ΄€(CA)`μ΄ μ„λ…ν• μ„λ²„ μΈμ¦μ„ λ“±)κ°€ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤.
   
  2. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„λ΅λ¶€ν„° λ°›μ€ κ³µκ°ν‚¤λ¥Ό μ‚¬μ©ν•΄ `ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώ(Pre-Master Secret)`μ΄λΌλ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•©λ‹λ‹¤. μ΄ ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώμ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„Έμ… ν‚¤λ¥Ό λ§λ“¤κΈ° μ„ν• μ¤‘μ”ν• μ •λ³΄μ…λ‹λ‹¤.

  3. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈκ°€ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν• ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώμ„ μμ‹ μ κ°μΈν‚¤λ¥Ό μ‚¬μ©ν•΄ λ³µνΈν™”ν•©λ‹λ‹¤. μ„λ²„λ” μ΄λ¥Ό ν†µν•΄ μ„Έμ… ν‚¤ μƒμ„±μ— ν•„μ”ν• μ •λ³΄λ¥Ό μ–»μµλ‹λ‹¤.

#### λ€μΉ­ν‚¤ μ•”νΈν™”
λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” μ•μ „ν•κ² **μ„Έμ… ν‚¤(Session Key)**λ¥Ό κ³µμ ν•κ² λ©λ‹λ‹¤. 
μ΄ μ„Έμ… ν‚¤λ” λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤. λ€μΉ­ν‚¤ μ•”νΈν™”μ—μ„λ” λ™μΌν• ν‚¤λ¥Ό μ‚¬μ©ν•΄ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•κΈ° λ•λ¬Έμ— λ§¤μ° λΉ λ¥΄κ³  ν¨μ¨μ μ…λ‹λ‹¤. 
μ„Έμ… ν‚¤λ” TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ—μ„ ν‘μƒλ ν‚¤λ΅, μ„Έμ…μ΄ μ μ§€λλ” λ™μ• μ‚¬μ©λ©λ‹λ‹¤.

- **λ€μΉ­ν‚¤ μ•”νΈν™”μ κ³Όμ •**
  1. **μ„Έμ… ν‚¤ μƒμ„±**: λ€μΉ­ν‚¤ μ•”νΈν™”μ—μ„ μ‚¬μ©λλ” μ„Έμ… ν‚¤λ” `ν΄λΌμ΄μ–ΈνΈ λ‚μ`μ™€ `μ„λ²„ λ‚μ`, 
    κ·Έλ¦¬κ³  ν΄λΌμ΄μ–ΈνΈκ°€ μƒμ„±ν• `ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώ(Pre-Master Secret)`μ„ μ΅°ν•©ν•μ—¬ μƒμ„±λ©λ‹λ‹¤.
    μ΄ μ„Έμ… ν‚¤λ” λ€μΉ­ν‚¤ μ•”νΈν™”μ— μ‚¬μ©λ©λ‹λ‹¤.
     - `ν΄λΌμ΄μ–ΈνΈ λ‚μ`: ν΄λΌμ΄μ–ΈνΈκ°€ ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ—μ„ μ„λ²„μ—κ² μ „μ†΅ν• λ‚μ(random number).
     - `μ„λ²„ λ‚μ`: μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² SSL μΈμ¦μ„λ¥Ό μ „μ†΅ν•  λ• ν•¨κ» μ „μ†΅ν• λ‚μ.
     - `ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώ`: ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ „μ†΅ν• μ¤‘μ”ν• κ°’.
     μ΄ μ„Έ κ°€μ§€ κ°’μ„ μ΅°ν•©ν•μ—¬ μ–‘μΈ΅(ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„)μ€ λ™μΌν• μ„Έμ… ν‚¤λ¥Ό λ…λ¦½μ μΌλ΅ μƒμ„±ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ‘ μΈ΅μ€ λ™μΌν• ν‚¤λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•  μ μκ² λ©λ‹λ‹¤.
     
  2. **λ€μΉ­ν‚¤ μ•”νΈν™” μ‹μ‘**: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μƒμ„±ν• μ„Έμ… ν‚¤λ” μ΄ν›„ λ€μΉ­ν‚¤ μ•”νΈν™”μ—μ„ μ‚¬μ©λλ” ν‚¤λ΅, ν†µμ‹ μ„ μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤. 
  λ€μΉ­ν‚¤ μ•”νΈν™”λ” λ™μΌν• ν‚¤λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³ , λ™μΌν• ν‚¤λ΅ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•κ² λ©λ‹λ‹¤.
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ„Έμ… ν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ¥Ό μ„λ²„λ΅ μ „μ†΅ν•λ©΄, μ„λ²„λ” ν•΄λ‹Ή μ„Έμ… ν‚¤λ΅ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•©λ‹λ‹¤.
    - μ„λ²„κ°€ μ„Έμ… ν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ¥Ό ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅ν•λ©΄, ν΄λΌμ΄μ–ΈνΈλ” μ„Έμ… ν‚¤λ΅ μ΄λ¥Ό λ³µνΈν™”ν•©λ‹λ‹¤.

  μ΄λ ‡κ² μ‚¬μ©λ μ„Έμ… ν‚¤λ” μ„Έμ…μ΄ λλ‚λ©΄ λ” μ΄μƒ μ‚¬μ©λμ§€ μ•μΌλ©°, μ–‘μΈ΅μ€ μƒλ΅μ΄ μ„Έμ…μ„ μ‹μ‘ν•  λ•λ§λ‹¤ λ™μΌν• κ³Όμ •μ„ κ±°μΉλ©° μƒλ΅μ΄ μ„Έμ… ν‚¤λ¥Ό ν‘μƒν•΄μ•Ό ν•©λ‹λ‹¤.


### μ΄μ  2. λ°μ΄ν„° λ¬΄κ²°μ„±
HTTPSλ” λ‹¨μν λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ” κ²ƒλΏλ§ μ•„λ‹λΌ `λ¬΄κ²°μ„±`λ„ λ³΄μ¥ν•©λ‹λ‹¤. λ°©κΈ μ „ μ¤‘κ°„μ κ³µκ²©μ— λ€ν•΄ μ–ΈκΈ‰ν–μ—λ”λ°μ”!
μ¤‘κ°„μ— μ•…μμ μΈ ν•΄μ»¤κ°€ λ°μ΄ν„°λ¥Ό νƒμ·¨ν•΄ λ³€μ΅°ν•μ§€ μ•μ•λ”μ§€λ¥Ό μ²΄ν¬ν•©λ‹λ‹¤. 

#### λ©”μ‹μ§€ μΈμ¦ μ½”λ“(MAC)
HTTPSλ” λ°μ΄ν„°κ°€ μ „μ†΅λλ” λ„μ¤‘ λ³€μ΅°λμ§€ μ•λ„λ΅ λ©”μ‹μ§€ μΈμ¦ μ½”λ“, MAC(Message Authentication Code)μ„ μ‚¬μ©ν•©λ‹λ‹¤.
MACμ€ μ•”νΈν™”λ ν•΄μ‹ κ°’μ„ μ‚¬μ©ν•μ—¬ μ „μ†΅λ λ°μ΄ν„°κ°€ λ³€μ΅°λμ—λ”μ§€ ν™•μΈν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.
MACμ€ λ°μ΄ν„°λ¥Ό λ³΄λ‚Έ μ½μ—μ„ μƒμ„±ν•μ—¬ ν•¨κ» μ „μ†΅ν•κ³ , λ°›λ” μ½μ—μ„ μ΄ MAC κ°’μ„ μ¬κ³„μ‚°ν•΄ μ›λ λ°μ΄ν„°μ™€ λΉ„κµν•©λ‹λ‹¤. 
λ§μ•½ λ°μ΄ν„°κ°€ μ „μ†΅ μ¤‘μ— λ³€μ΅°λμ—λ‹¤λ©΄, μ¬κ³„μ‚°λ MAC κ°’μ΄ λ‹¬λΌμ Έ λ³€μ΅°λ μ‚¬μ‹¤μ„ μ• μ μμµλ‹λ‹¤.


- **MACμ λ™μ‘ λ°©μ‹**
  1. **λ°μ΄ν„° μ „μ†΅ μ „ μ¤€λΉ„**: λ°μ΄ν„°λ¥Ό λ³΄λ‚΄λ” μΈ΅(μ•„λ§ μ›Ή μ„λ²„)μ€ μ „μ†΅ν•  λ°μ΄ν„°λ¥Ό λ¨Όμ € μ¤€λΉ„ν•κ³ , μ΄λ¥Ό κΈ°λ°μΌλ΅ MAC κ°’μ„ μƒμ„±ν•©λ‹λ‹¤. 
  μ΄λ•, λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ„ μ‚¬μ©ν•μ—¬ λ°μ΄ν„°μ™€ ν•¨κ» κ³µμ λ λΉ„λ°€ ν‚¤(λ€μΉ­ν‚¤)λ¥Ό μ…λ ¥μΌλ΅ μ‚¬μ©ν•΄ MAC κ°’μ„ κ³„μ‚°ν•©λ‹λ‹¤.
  2. **MAC κ°’ μƒμ„±**: μ„λ²„λ” μ „μ†΅ν•λ ¤λ” μ›λ³Έ λ°μ΄ν„°μ™€ κ³µμ λ λ€μΉ­ν‚¤(μ„Έμ…ν‚¤)λ¥Ό μ‚¬μ©ν•΄ MAC κ°’μ„ κ³„μ‚°ν•©λ‹λ‹¤.
  μ΄ κ³Όμ •μ€ λ³΄ν†µ μ•”νΈν™” ν•΄μ‹ ν•¨μ(μ: HMAC-SHA256) κ°™μ€ μ•κ³ λ¦¬μ¦μ„ ν†µν•΄ μν–‰λ©λ‹λ‹¤.
  μλ¥Ό λ“¤μ–΄,
    ```
    MAC = HMAC(λ€μΉ­ν‚¤, λ°μ΄ν„°)
    ```
  μ—¬κΈ°μ„ HMACμ€ ν•΄μ‹ κΈ°λ° λ©”μ‹μ§€ μΈμ¦ μ½”λ“(HMAC) μ•κ³ λ¦¬μ¦μ…λ‹λ‹¤.
  3. **λ°μ΄ν„°μ™€ MAC κ°’ μ „μ†΅**: λ°μ΄ν„°λ¥Ό λ³΄λ‚΄λ” μΈ΅μ€ μ›λ³Έ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  λ•, ν•΄λ‹Ή λ°μ΄ν„°μ MAC κ°’λ„ ν•¨κ» μ „μ†΅ν•©λ‹λ‹¤. 
  μ΄λ ‡κ² ν•λ©΄ λ°›λ” μ½μ—μ„ λ°μ΄ν„°μ™€ MAC κ°’μ„ λΉ„κµν•μ—¬ λ°μ΄ν„°κ°€ μ•μ „ν•κ² λ„μ°©ν–λ”μ§€ ν™•μΈν•  μ μμµλ‹λ‹¤.
  4. **λ°›λ” μ½μ—μ„ MAC μ¬κ³„μ‚°**: λ°μ΄ν„°λ¥Ό λ°›λ” μΈ΅(μ: ν΄λΌμ΄μ–ΈνΈ)μ€ μ„λ²„λ΅λ¶€ν„° λ°›μ€ λ°μ΄ν„°λ¥Ό κ°€μ Έμ™€, κ°™μ€ λ°©μ‹μΌλ΅ MAC κ°’μ„ μ¬κ³„μ‚°ν•©λ‹λ‹¤. 
  μ΄λ•λ„ λ°μ΄ν„°μ™€ ν•¨κ» κ³µμ λ λΉ„λ°€ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ MACμ„ κ³„μ‚°ν•©λ‹λ‹¤.
  μλ¥Ό λ“¤μ–΄,
    ```
    MAC' = HMAC(λ€μΉ­ν‚¤, λ°›μ€ λ°μ΄ν„°)
    ```
  5. **MAC κ°’ λΉ„κµ**: λ°μ΄ν„°λ¥Ό λ°›μ€ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—μ„ λ³΄λ‚Έ MAC κ°’κ³Ό μμ‹ μ΄ μ¬κ³„μ‚°ν• MAC κ°’(MAC')μ„ λΉ„κµν•©λ‹λ‹¤.
  - `λ™μΌν•λ‹¤λ©΄`: λ°μ΄ν„°λ” μ „μ†΅ μ¤‘ λ³€μ΅°λμ§€ μ•μ•μΌλ©° λ¬΄κ²°μ„±μ΄ λ³΄μ¥λ©λ‹λ‹¤. 
  - `λ‹¤λ¥΄λ‹¤λ©΄`: μ „μ†΅ μ¤‘μ— λ°μ΄ν„°κ°€ λ³€μ΅°λμ—μ„ κ°€λ¥μ„±μ΄ μμµλ‹λ‹¤. μ΄λ” λ°μ΄ν„°κ°€ μ¤‘κ°„μ—μ„ μμ •λμ—μμ„ μλ―Έν•λ©°, ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό μ‹ λΆ°ν•μ§€ μ•μµλ‹λ‹¤.

### μ΄μ  3. μ„λ²„ μΈμ¦
HTTPSλ” λν• μ„λ²„μ μ‹ μ›μ„ ν™•μΈν•  μ μλ„λ΅ λ•μµλ‹λ‹¤. 
SSL/TLS μΈμ¦μ„λ¥Ό ν†µν•΄ μ›Ήμ‚¬μ΄νΈκ°€ μ‹ λΆ°ν•  μ μλ” μ„λ²„μ„μ„ μ¦λ…ν•λ―€λ΅, ν”Όμ‹± μ‚¬μ΄νΈλ‚ μ•…μμ μΈ μ„λ²„λ΅λ¶€ν„° μ‚¬μ©μλ¥Ό λ³΄νΈν•  μ μμµλ‹λ‹¤. 
μΈμ¦μ„λ” **κ³µμΈ μΈμ¦ κΈ°κ΄€(CA)**μ΄ λ°κΈ‰ν•λ©°, ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„κ°€ μ§„μ§ μ‚¬μ΄νΈμ„μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μμ™€ μ„λ²„ κ°„μ μ‹ λΆ°λ¥Ό κµ¬μ¶•ν•©λ‹λ‹¤.

#### κ³µμΈμΈμ¦κΈ°κ΄€ (CA)

CA(Certificate Authority)λ” κ³µμΈ μΈμ¦ κΈ°κ΄€μΌλ΅, μΈν„°λ„· μƒμ—μ„ νΉμ • μ„λ²„κ°€ μ§„μ§ μ„λ²„μ„μ„ λ³΄μ¥ν•΄μ£Όλ” μ—­ν• μ„ ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μ(ν΄λΌμ΄μ–ΈνΈ)λ” μμ‹ μ΄ λ°©λ¬Έν• μ›Ήμ‚¬μ΄νΈκ°€ μ‹¤μ λ΅ μ‹ λΆ°ν•  μ μλ” μ›Ήμ‚¬μ΄νΈμΈμ§€ ν™•μΈν•  μ μμµλ‹λ‹¤.

- **SSL/TLS μΈμ¦μ„λ€?**: <BR>
  λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”μ—μ„ μ μ‹ SSL μΈμ¦μ„κ°€ λ‚μ™”μ—λ”λ°μ”! 
  SSL/TLS μΈμ¦μ„λ” μ„λ²„κ°€ μ›Ήμ‚¬μ΄νΈμ—μ„ μ•μ „ν• HTTPS μ—°κ²°μ„ μ κ³µν•  μ μλ„λ΅ λ³΄μ¥ν•λ” λ””μ§€ν„Έ λ¬Έμ„μ…λ‹λ‹¤. μ΄ μΈμ¦μ„μ—λ” μ„λ²„μ μ‹ μ›μ„ μ¦λ…ν•λ” μ •λ³΄κ°€ λ“¤μ–΄ μμµλ‹λ‹¤. 
  μΈμ¦μ„λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή μ„λ²„κ°€ κ°€μ§ μ„λ²„(ν”Όμ‹± μ‚¬μ΄νΈ λ“±)κ°€ μ•„λ‹ μ§„μ§ μ„λ²„λΌλ” κ²ƒμ„ μ• μ μμµλ‹λ‹¤.

- **CAμ μΈμ¦μ„ λ°κΈ‰ λ° μ²΄μΈ** <BR>
  CAλ” μ„λ²„κ°€ μ•μ „ν•κ³  μ‹ λΆ°ν•  μ μλ‹¤λ” μ‚¬μ‹¤μ„ κ²€μ¦ν•κ³ , μ΄λ¥Ό λ°”νƒ•μΌλ΅ SSL/TLS μΈμ¦μ„λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤.
  ν΄λΌμ΄μ–ΈνΈλ” CAκ°€ λ°κΈ‰ν• μΈμ¦μ„λ¥Ό ν†µν•΄ μ„λ²„μ μ‹ μ›μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. <BR>
  μ΄λ¬ν• CAλ” `λ£¨νΈ μΈμ¦μ„`λ¥Ό κ°€μ§€κ³  μμΌλ©°, λ£¨νΈ CAλ” μμ²΄μ μΌλ΅ μΈμ¦μ„λ¥Ό λ°κΈ‰ν•  μ μμµλ‹λ‹¤.
  ν•μ§€λ§ μΌλ°μ μΌλ΅λ” `μ¤‘κ°„ CA`κ°€ λ£¨νΈ CAμ μ‹ λΆ°λ¥Ό λ°›μ•„ μΈμ¦μ„λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤.
  μ΄λ ‡κ² ν•λ©΄ λ£¨νΈ CAμ μΈμ¦μ„κ°€ λ…Έμ¶λμ§€ μ•κ³  μ•μ „ν•κ² κ΄€λ¦¬λ  μ μμµλ‹λ‹¤.

  - **λ£¨νΈ CA**: κ³µμΈλ CAμ μΈμ¦μ„λ΅, κ° λΈλΌμ°μ €μ™€ μ΄μμ²΄μ λ” μ΄ λ£¨νΈ μΈμ¦μ„λ¥Ό μ‹ λΆ°ν•©λ‹λ‹¤.
  - **μ¤‘κ°„ CA**: λ£¨νΈ CAμ— μν•΄ μΈμ¦λ CAλ΅, λ£¨νΈ CAλ¥Ό λ€μ‹ ν•΄ SSL μΈμ¦μ„λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤.
  - **μ„λ²„ μΈμ¦μ„**: μ¤‘κ°„ CAκ°€ μ„λ²„μ— λ°κΈ‰ν•λ” μΈμ¦μ„μ…λ‹λ‹¤.

μ΄ μΈμ¦μ„λ“¤μ΄ μΈμ¦μ„ μ²΄μΈμ„ ν•μ„±ν•μ—¬ ν΄λΌμ΄μ–ΈνΈλ” λ£¨νΈ μΈμ¦μ„κΉμ§€ μ¶”μ ν•λ©΄μ„ μ‹ λΆ°μ„±μ„ ν™•μΈν•©λ‹λ‹¤.

- **CAμ μ—­ν• ** <BR>
  κ·Έλ ‡λ‹¤λ©΄ CAλ” μΈμ¦μ„ λ°κΈ‰μ„ μ„ν•΄ μ–΄λ–»κ² μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ‹¤λ” κ±Έ μ• μ μμ„κΉμ”?
  λ‹¤μμΌλ΅λ” CAκ°€ μ–΄λ– ν• κ³Όμ •μΌλ΅ μ„λ²„μ μ‹ μ›μ„ λ³΄μ¦ν•λ”μ§€λ¥Ό μ‚΄ν΄λ³΄λ ¤ ν•©λ‹λ‹¤
  1. **μ„λ²„μ κ³µκ°ν‚¤λ¥Ό μΈμ¦μ„μ— ν¬ν•¨**: μ„λ²„λ” CAμ— SSL/TLS μΈμ¦μ„λ¥Ό μ”μ²­ν•  λ•, μμ‹ μ `κ³µκ°ν‚¤`λ¥Ό CAμ— μ „λ‹¬ν•©λ‹λ‹¤. CAλ” μ„λ²„μ κ³µκ°ν‚¤λ¥Ό ν¬ν•¨ν• μΈμ¦μ„λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤. 
  ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ™€μ HTTPS ν†µμ‹ μ„ μ‹μ‘ν•  λ• μ΄ μΈμ¦μ„λ¥Ό λ‹¤μ΄λ΅λ“ν•κ³ , μ΄λ¥Ό ν†µν•΄ μ„λ²„μ κ³µκ°ν‚¤λ¥Ό μ–»μµλ‹λ‹¤. 
  2. **μ„λ²„ κ²€μ¦**: CAλ” μ„λ²„κ°€ μ£Όμ¥ν•λ” λ„λ©”μΈμ— λ€ν• μ†μ κ¶μ„ ν™•μΈν•κ³ , μ„λ²„μ μ‹ μ›μ„ κ²€μ¦ν• ν›„μ— μΈμ¦μ„λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤. 
  λ„λ©”μΈ μ†μ κ¶ κ²€μ¦ κ³Όμ •μ—λ” μ„λ²„κ°€ ν•΄λ‹Ή λ„λ©”μΈμ μ†μ κ¶μ„ μ‹¤μ λ΅ κ°€μ§€κ³  μλ”μ§€ ν™•μΈν•λ” μ μ°¨κ°€ ν¬ν•¨λ©λ‹λ‹¤. 
  μλ¥Ό λ“¤μ–΄, CAλ” μ„λ²„κ°€ μ†μ ν• μ΄λ©”μΌ μ£Όμ†λ΅ ν™•μΈ λ©”μΌμ„ λ³΄λ‚΄κ±°λ‚, ν•΄λ‹Ή λ„λ©”μΈμ— νΉμ • νμΌμ„ μ—…λ΅λ“ν•λ„λ΅ μ”μ²­ν•  μ μμµλ‹λ‹¤.
  3. **CAμ λ””μ§€ν„Έ μ„λ…**: CAλ” μ„λ²„μ μΈμ¦μ„μ— λ””μ§€ν„Έ μ„λ…μ„ μ¶”κ°€ν•©λ‹λ‹¤. 
  μ΄ μ„λ…μ€ CAμ λΉ„λ°€ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μƒμ„±λλ©°, ν΄λΌμ΄μ–ΈνΈλ” μ΄ μ„λ…μ„ ν†µν•΄ μΈμ¦μ„κ°€ μ§„μ§ CAμ—μ„ λ°κΈ‰λ κ²ƒμΈμ§€ ν™•μΈν•  μ μμµλ‹λ‹¤.

μ§€κΈκΉμ§€λ” CAκ°€ λ¬΄μ—‡μ΄κ³ , μ–΄λ–¤ κ³Όμ •μ„ ν†µν•΄ μ„λ²„μ μ‹ μ›μ„ λ³΄μ¦ν•λ”μ§€μ— λ€ν•΄ μ‚΄ν΄λ³΄μ•λ”λ°,
κ·ΈλΌ μ΄μ  μ„λ²„λ” μ΄ μΈμ¦μ„λ¥Ό μ–΄λ–»κ² λ°κΈ‰ μ”μ²­ ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„κ°€ λ°κΈ‰λ°›μ€ μΈμ¦μ„λ¥Ό ν†µν•΄ μ–΄λ–»κ² ν•΄λ‹Ή μ„λ²„κ°€ μ‹ λΆ°ν•  λ§ ν• μ„λ²„μΈμ§€λ¥Ό ν™•μΈν•λ”μ§€μ— λ€ν•΄ μ‚΄ν΄λ³΄λ ¤ ν•©λ‹λ‹¤

- **μΈμ¦μ„ λ°κΈ‰ κ³Όμ •** <BR>
  λ¨Όμ € μ„λ²„κ°€ SSL/TLS μΈμ¦μ„λ¥Ό μ”μ²­ν•κ³  λ°κΈ‰λ°›λ” κ³Όμ •μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤

  1. **μ„λ²„ μΈμ¦μ„ μ”μ²­**: μ„λ²„ κ΄€λ¦¬μλ” CAμ— μ„λ²„μ κ³µκ°ν‚¤μ™€ λ„λ©”μΈ μ •λ³΄κ°€ ν¬ν•¨ λμ–΄ μλ” `CSR (Certificate Signing Request)` νμΌμ„ μ μ¶ν•©λ‹λ‹¤. 
  2. **CAμ κ²€μ¦**: CAλ” μ„λ²„κ°€ μ‹¤μ λ΅ ν•΄λ‹Ή λ„λ©”μΈμ„ μ†μ ν•κ³  μλ”μ§€ λ„λ©”μΈ μ†μ κ¶μ„ κ²€μ¦ν•κ³ , μ„λ²„ μ •λ³΄κ°€ μ •ν™•ν•μ§€ λ“± μ„λ²„μ— λ€ν• μ‹ μ› ν™•μΈ μ μ°¨λ¥Ό κ±°μΉ©λ‹λ‹¤. 
  3. **μΈμ¦μ„ λ°κΈ‰**: κ²€μ¦μ΄ μ™„λ£λλ©΄ CAλ” μ„λ²„μ κ³µκ°ν‚¤μ™€ μ„λ²„ μ •λ³΄, κ·Έλ¦¬κ³  CAμ λ””μ§€ν„Έ μ„λ…μ΄ ν¬ν•¨λ `SSL/TLS μΈμ¦μ„`λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤. 
  4. **μΈμ¦μ„ μ„¤μΉ**: μ„λ²„λ” λ°κΈ‰λ°›μ€ μΈμ¦μ„λ¥Ό μμ‹ μ μ„λ²„μ— μ„¤μΉν•κ³ , ν΄λΌμ΄μ–ΈνΈμ™€μ HTTPS μ—°κ²°μ—μ„ μ΄ μΈμ¦μ„λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

- **μΈμ¦μ„ κ²€μ¦ κ³Όμ •** <BR>
ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)λ” HTTPS μ‚¬μ΄νΈμ— μ ‘μ†ν•  λ• μ„λ²„λ΅λ¶€ν„° SSL/TLS μΈμ¦μ„λ¥Ό λ°›λ”λ°μ”, <BR> 
μ΄λ•, ν΄λΌμ΄μ–ΈνΈλ” λ‹¤μ λ‹¨κ³„λ¥Ό ν†µν•΄ μΈμ¦μ„λ¥Ό κ²€μ¦ν•©λ‹λ‹¤.
  1. **μ‹ λΆ°λ λ£¨νΈ μΈμ¦μ„ ν™•μΈ**: ν΄λΌμ΄μ–ΈνΈλ” μ΄μμ²΄μ λ‚ λΈλΌμ°μ €μ— λ‚΄μ¥λ λ£¨νΈ μΈμ¦μ„ λ©λ΅μ„ κ°€μ§€κ³  μμµλ‹λ‹¤. μ΄ λ£¨νΈ μΈμ¦μ„λ” κ³µμΈλ μ—¬λ¬ CAμ μΈμ¦μ„λ΅, λΈλΌμ°μ €λ” μ—¬κΈ°μ— ν¬ν•¨λ CAλ¥Ό μ‹ λΆ°ν•©λ‹λ‹¤. μ„λ²„κ°€ μ κ³µν• μΈμ¦μ„κ°€ μ‹ λΆ°λ CAμ—μ„ λ°κΈ‰λ κ²ƒμΈμ§€, μΈμ¦μ„ μ²΄μΈμ„ ν™•μΈν•©λ‹λ‹¤. 
  2. **λ””μ§€ν„Έ μ„λ… κ²€μ¦**: ν΄λΌμ΄μ–ΈνΈλ” CAμ κ³µκ°ν‚¤λ¥Ό μ‚¬μ©ν•΄ μ„λ²„ μΈμ¦μ„μ λ””μ§€ν„Έ μ„λ…μ„ κ²€μ¦ν•©λ‹λ‹¤. CAκ°€ μΈμ¦μ„μ— μ„λ…ν•  λ• μ‚¬μ©ν• λΉ„λ°€ν‚¤μ μμΈ κ³µκ°ν‚¤λ΅ μ„λ…μ„ ν™•μΈν•λ©°, μ΄λ¥Ό ν†µν•΄ μΈμ¦μ„κ°€ μ‹ λΆ°λ CAμ—μ„ λ°κΈ‰λ κ²ƒμΈμ§€ ν™•μΈν•  μ μμµλ‹λ‹¤. 
  3. **μΈμ¦μ„μ μ ν¨μ„± κ²€μ‚¬**:
     - **μ ν¨ κΈ°κ°„**: ν΄λΌμ΄μ–ΈνΈλ” μΈμ¦μ„κ°€ λ§λ£λμ—λ”μ§€, λλ” μ•„μ§ μ ν¨ν•μ§€ ν™•μΈν•©λ‹λ‹¤. 
     - **λ„λ©”μΈ μΌμΉ**: μΈμ¦μ„μ— ν¬ν•¨λ λ„λ©”μΈμ΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν• μ›Ήμ‚¬μ΄νΈμ λ„λ©”μΈκ³Ό μΌμΉν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤. 
     - **μ·¨μ† μ—¬λ¶€**: ν΄λΌμ΄μ–ΈνΈλ” μΈμ¦μ„κ°€ μΈμ¦μ„ νκΈ° λ©λ΅(CRL, Certificate Revocation List) λλ” `OCSP(Online Certificate Status Protocol)`μ„ ν†µν•΄ μ·¨μ†λμ§€ μ•μ•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

μ΄λ ‡κ² μΈμ¦μ„κ°€ μ ν¨ν•κ³  μ„λ…μ΄ ν™•μΈλλ©΄, ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ” μ›Ήμ‚¬μ΄νΈμ„μ„ ν™•μΈν•κ³  μ•μ „ν•κ² ν†µμ‹ μ„ μ‹μ‘ν•©λ‹λ‹¤!

## HTTPS λ™μ‘ κµ¬μ΅° : TLS ν•Έλ“μ…°μ΄ν¬

μ„μ—μ„ μ„¤λ…ν• μΌλ ¨μ κ³Όμ •λ“¤μ„ μ”μ•½ν•΄μ„ 6μ»· λ§ν™”λ΅ κ·Έλ ¤λ΄¤μµλ‹λ‹¤! κ·€μ—½μ£ ? π

![α„α…¦α„†α…©α†¨_α„‹α…¥α†Ήα„‚α…³α†«_α„‹α…΅α„α…³α„‹α…―α„α…³](https://github.com/user-attachments/assets/fda5babb-ba1e-487b-83ea-718fe1fcb532)

μ„Έμ…μ΄ μΆ…λ£λ  λ•λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ²  TLS ν”„λ΅ν† μ½μ μΆ…λ£ μ•λ¦ΌμΈ "Close_notify" λ©”μ‹μ§€λ¥Ό TLS κ²½κ³  λ μ½”λ“μ— ν¬ν•¨λ κ²½κ³  μ½”λ“λ΅ μ„¤μ •ν•΄ λ³΄λƒ„μΌλ΅μ¨ μΆ…λ£λ¥Ό μ”μ²­ν•κ³ 
μ„λ²„λ” λ©”μ„Έμ§€λ¥Ό λ°›μ•„ μ„Έμ… μΆ…λ£ μ”μ²­μ„ μΈμ‹ν•λ©΄ μ„λ²„λ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μμ‹ μ "Close_notify" λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄, μ„λ²„λ„ μ„Έμ… μΆ…λ£λ¥Ό μ‹μ‘ν•λ‹¤λ” κ²ƒμ„ μ•λ¦½λ‹λ‹¤.
μ΄λ ‡κ² ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ "Close_notify" λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›μ€ ν›„μ—λ” μ–‘μΈ΅ λ¨λ‘ μ„Έμ…μ—μ„ μ‚¬μ©ν–λ μ„Έμ… ν‚¤λ¥Ό μ¦‰μ‹ νκΈ°ν•©λ‹λ‹¤.

## HTTPS, μ–΄λ–»κ² μ„¤μ •ν• κΉ?

μΌλ‹¨ κ°€μ¥ λ¨Όμ €, HTTPS λ¥Ό μ„¤μ •ν•λ” λ°©λ²•μ—λ” ν¬κ² 3κ°€μ§€κ°€ μμµλ‹λ‹¤.

> 1. μ§μ ‘ CAμ—μ„ κµ¬λ§¤ν• μΈμ¦μ„λ¥Ό κΈ°λ°μΌλ΅ HTTPS μ„λΉ„μ¤λ¥Ό κµ¬μ¶•ν•λ” λ°©λ²•
> 2. μ„λ²„ μ•λ‹¨μ— HTTPSλ¥Ό μ κ³µν•λ” CDN μ„ λ‘¬μ„ κµ¬μ¶•ν•λ” λ°©λ²• 
> 3. μ„λ²„ μ•λ‹¨μ HTTPSλ¥Ό μ κ³µν•λ” λ΅λ“λ°Έλ°μ„λ¥Ό λ‘λ” λ°©λ²•
{: .prompt-tip }

μ €λ” μ΄ μ¤‘μ—μ„ 2λ², μ„λ²„ μ•λ‹¨μ HTTPSλ¥Ό μ κ³µν•λ” λ΅λ“λ°Έλ°μ„λ¥Ό λ‘λ” λ°©λ²•μ„ μ„ νƒν–λ”λ°μ”! <BR>
κ·Έ μ΄μ μ— λ€ν•΄ μ„¤λ… ν•΄λ³΄λ ¤ ν•©λ‹λ‹¤

### λ°©λ²• 1. μ§μ ‘ CAμ—μ„ κµ¬λ§¤ν• μΈμ¦μ„λ¥Ό κΈ°λ°μΌλ΅ HTTPS μ„λΉ„μ¤ κµ¬μ¶• 

μ κ°€ νμ•…ν• λ‹¤μ λ°©λ²•μ μ¥λ‹¨μ μ€ λ‹¤μκ³Ό κ°™μ•μµλ‹λ‹¤

| μ¥μ                                                             | λ‹¨μ                                                                                    |
|---------------------------------------------------------------|--------------------------------------------------------------------------------------|
| β… μ„λ²„μ— μ§μ ‘ μΈμ¦μ„λ¥Ό μ„¤μΉν•λ―€λ΅ <br/> μ„λ²„ μ„¤μ •μ„ μ„Έλ°€ν•κ² μ μ–΄ν•  μ μλ‹¤.               | β μΈμ¦μ„ κ°±μ‹ , λ§λ£μΌ κ΄€λ¦¬, CAμ™€μ μƒνΈμ‘μ© <br/> λ“±μ„ μ§μ ‘ ν•΄μ•Ό ν•λ―€λ΅ κ΄€λ¦¬ λ¶€λ‹΄μ΄ ν¬λ‹¤.                            |
| β… μ„λ²„κ°€ λ¨λ“  HTTPS νΈλν”½μ„ μ²λ¦¬ν•λ―€λ΅ <br/> λ³΄μ• μ •μ±…μ„ μ„λ²„ μμ¤€μ—μ„ μ„Έλ°€ν•κ² μ μ©ν•  μ μλ‹¤. | β μ„λ²„μ—μ„ HTTPS μ•”νΈν™”λ¥Ό μ§μ ‘ μ²λ¦¬ν•΄μ•Ό <br/> ν•λ―€λ΅ CPU μ‚¬μ©λ‰μ΄ μ¦κ°€ν•  μ μμ–΄, <br/> νΈλν”½μ΄ λ§μ•„μ§€λ©΄ μ„λ²„ μ„±λ¥μ— μν–¥μ„ μ¤„ μ μλ‹¤. |

μ €λ” μ„λ²„κ°€ λΉ„κµμ  κ°€λ³κ³  νΈλν”½μ΄ λ§μ§€ μ•μ€ μ†κ·λ¨ μ„λΉ„μ¤μ΄κΈ΄ ν–μ§€λ§, μΈμ¦μ„ κ΄€λ¦¬μ λ²κ±°λ΅μ›€μ„ ν”Όν•κ³  μ‹¶μ—κΈ°μ— ν•΄λ‹Ή λ°©λ²•μ€ ν¨μ¤ν–μµλ‹λ‹¤.

### λ°©λ²• 2. μ„λ²„ μ•λ‹¨μ— HTTPSλ¥Ό μ κ³µν•λ” CDNμ„ λ‘¬μ„ κµ¬μ¶•

μ κ°€ νμ•…ν• λ‹¤μ λ°©λ²•μ μ¥λ‹¨μ μ€ λ‹¤μκ³Ό κ°™μ•μµλ‹λ‹¤

| μ¥μ                                                                                                                | λ‹¨μ                                                                                     |
|------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| β…CDNμ€ μ½ν…μΈ λ¥Ό μ‚¬μ©μ κ°€κΉμ΄ μ—£μ§€ μ„λ²„μ—μ„ μ κ³µν•λ―€λ΅, <br/> μ „ μ„Έκ³„ μ‚¬μ©μμ—κ² λΉ λ¥΄κ² μ„λΉ„μ¤λ¥Ό μ κ³µν•  μ μλ‹¤. <br/> CDN μ„λΉ„μ¤λ¥Ό μ΄λ―Έ μ΄μ©ν•κ³ μ <br/> ν•λ‹¤λ©΄ μΌμ„μ΄μ΅°κ°€ λ  μ μλ‹¤. | β CDN μ„λΉ„μ¤λ” νΈλν”½ μ–‘μ— λ”°λΌ <br/> λΉ„μ©μ΄ λ°μƒν•κΈ° λ•λ¬Έμ—, <br/> λ€μ©λ‰ νΈλν”½μ„ μ²λ¦¬ν•  λ• <br/> λΉ„μ©μ΄ λΉ λ¥΄κ² μ¦κ°€ν•  μ μλ‹¤. |
| β…CDNμ€ DDoS λ°©μ–΄, WAF(μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… λ°©ν™”λ²½) λ“±μ <br/> λ³΄μ• κΈ°λ¥μ„ κΈ°λ³ΈμΌλ΅ μ κ³µν•λ―€λ΅, <br/> μ„λ²„ λ³΄μ•μ„ κ°•ν™”ν•  μ μλ‹¤. | β CDNμ„ μ²μ μ„¤μ •ν•λ” κ³Όμ •μ—μ„ <br/> μΊμ‹ μ„¤μ •, λ„λ©”μΈ μ„¤μ • λ“±μ΄ μ¶”κ°€μ μΌλ΅ ν•„μ”ν•λ‹¤.                                |
| β…SSL/TLS μΈμ¦μ„λ¥Ό μλ™μΌλ΅ κ΄€λ¦¬ν•΄μ£Όλ―€λ΅, <br/> μ„λ²„ μΈ΅μ—μ„ λ³„λ„λ΅ μΈμ¦μ„λ¥Ό κ΄€λ¦¬ν•  ν•„μ”κ°€ μ—†λ‹¤. |

μΌλ‹¨ μ.. μ΄ λ°©μ‹μ€ ν”„λ΅ νΈμ— HTTPS λ¥Ό μ μ©ν•κ³  μ‹¶μ„ λ• Cloudflare, AWS CloudFront λ“±μ„ μ΄μ©ν•΄ HTTPS λ¥Ό μ„¤μ •ν•λ” λ°©λ²•μ΄μ§€, μ„λ²„λ¥Ό μ„ν• λ°©λ²•μ΄λΌκΈ°μ—” λ¬΄λ¦¬κ°€ μμ§€ μ•μ„κΉ? λΌλ” κ°μΈμ μΈ μƒκ° μμ—κ³ ,
νΈλν”½λ„ μ μ€λ° ν•„μ” μ΄μƒμ κΈ°λ¥μ΄κΈ°λ„ ν•κ³ , CDNμ€ CDNμ€ μ£Όλ΅ μ •μ  μ½ν…μΈ (μ΄λ―Έμ§€, CSS, JavaScript νμΌ λ“±)λ¥Ό μ „ μ„Έκ³„ μ—£μ§€ μ„λ²„μ— μΊμ‹ν•΄μ„ μ‚¬μ©μκ°€ κ°€κΉμ΄ μ„λ²„μ—μ„ μ½ν…μΈ λ¥Ό λΉ λ¥΄κ² μ κ³µλ°›λ„λ΅ λ„μ™€μ£Όλ” μ‹μ¤ν…μΈλ°
μ™Έλ¶€ μ‚¬μ©μμ™€μ μ§μ ‘μ μΈ μ ‘μ μ΄ λ§μ§€ μ•μ€ μ„λ²„μ κ²½μ° CDN μ„ λ¶™μΌ ν•„μ”κ°€ μ—†μ–΄ ν¨μ¤ν•κ² λμµλ‹λ‹¤.

CDNμ€ μ£Όλ΅ μ •μ  μ½ν…μΈ  μΊμ‹μ— νΉν™”λμ–΄ μμ–΄, μ‹¤μ‹κ°„μΌλ΅ λ³€ν™”ν•λ” λ™μ  λ°μ΄ν„°(μ‚¬μ©μ μ„Έμ…, DB μ΅°ν κ²°κ³Ό λ“±)λ¥Ό μ²λ¦¬ν•λ” λ°λ” μ ν•©ν•μ§€ μ•μ€λ°λ‹¤κ°€,
μ •μ  μ½ν…μΈ  νΈλν”½μ΄ λ§μ•„μ§€λ©΄ μ‚¬μ©λ‰μ— λ”°λΌ λΉ„μ©μ΄ κΈ‰μ¦ν•  κ°€λ¥μ„±λ„ μμµλ‹λ‹¤.

λ§μ•½ ν”„λ΅ νΈλ¥Ό HTTPS μ„¤μ •μ„ ν•΄μ•Ό ν•λ” μƒν™©μ΄μ—λ‹¤λ©΄ ν•΄λ‹Ή λ°©λ²•μ„ μ„ νƒν–μ„ κ²λ‹λ‹¤.

### λ°©λ²• 3. μ„λ²„ μ•λ‹¨μ— HTTPSλ¥Ό μ κ³µν•λ” λ΅λ“ λ°Έλ°μ„λ¥Ό λ‘¬μ„ κµ¬μ¶•

κ²°κµ­ μ κ°€ μ±„νƒν•κ² λ λ°©λ²•μΈλ°μ”, μ κ°€ νμ•…ν• λ‹¤μ λ°©λ²•μ μ¥λ‹¨μ μ€ λ‹¤μκ³Ό κ°™μ•μµλ‹λ‹¤

| μ¥μ                                                                                          | λ‹¨μ                                                                                    |
|--------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|
| β…λ΅λ“ λ°Έλ°μ„κ°€ μ„λ²„μ— κ°€ν•΄μ§€λ” <br/>  HTTPS μ²λ¦¬ λ¶€ν•λ¥Ό λ€μ‹  μ²λ¦¬ν•κΈ° λ•λ¬Έμ—, <br/> μ„λ²„λ” HTTPλ§ μ²λ¦¬ν•λ―€λ΅ <br/> λ¦¬μ†μ¤ μ†λ¨κ°€ μ¤„μ–΄λ“ λ‹¤. | β λ΅λ“ λ°Έλ°μ„λ¥Ό μ‚¬μ©ν•λ©΄ μ¶”κ°€ λΉ„μ©μ΄ λ°μƒν•  μ μλ‹¤.                                                      |
| β…λ΅λ“ λ°Έλ°μ„κ°€ νΈλν”½μ„ <br/> μ—¬λ¬ μ„λ²„λ΅ λ¶„μ‚°μ‹ν‚¤κΈ° λ•λ¬Έμ— <br/> νΈλν”½ μ¦κ°€μ— λ€μ‘ν•κΈ°κ°€ μ‰¬μ›μ Έ, ν™•μ¥μ„±μ΄ μΆ‹λ‹¤                      | β λ΅λ“ λ°Έλ°μ„ μ„¤μ •μ΄ μ¶”κ°€λκΈ° λ•λ¬Έμ— <br/> μ²μ μ„¤μ •ν•  λ• μ•½κ°„μ λ³µμ΅ν•¨μ΄ μμ„ μ μλ‹¤.                               |
| β…λ΅λ“ λ°Έλ°μ„μ—μ„ μΈμ¦μ„ κ΄€λ¦¬κ°€ κ°€λ¥ν•μ—¬ <br/> μ„λ²„λ§λ‹¤ λ³„λ„λ΅ μΈμ¦μ„λ¥Ό μ„¤μΉν•  ν•„μ”κ°€ μ—†λ‹¤.                                     | β λ΅λ“λ°Έλ°μ„μ™€ λ°±μ—”λ“ μ„λ²„ κ°„μ νΈλν”½μ΄ μ•”νΈν™”λμ§€ μ•κΈ° λ•λ¬Έμ—, <br/> λ‚΄λ¶€ λ„¤νΈμ›ν¬κ°€ μ¶©λ¶„ν μ•μ „ν•μ§€ μ•λ‹¤λ©΄ λ°μ΄ν„°κ°€ μ μ¶λ  κ°€λ¥μ„±μ΄ μλ‹¤.	 |                                                                                           

μΌλ‹¨ μ €λ” μΈμ¦μ„ κ΄€λ¦¬λ¥Ό λ΅λ“ λ°Έλ°μ„μ—μ„ μ²λ¦¬ν•  μ μμΌλ―€λ΅ μ„λ²„λ§λ‹¤ SSL μ„¤μ •μ„ ν•  ν•„μ”κ°€ μ—†μ–΄ κ΄€λ¦¬κ°€ νΈλ¦¬ν•λ‹¤λ” μ¥μ μΌλ΅ μΈν•΄ ν•΄λ‹Ή λ°©λ²•μ„ μ„ νƒν•κ² λμ—μµλ‹λ‹¤.
λ¬Όλ΅  μ €λ” λ™μ  λ°μ΄ν„° μ²λ¦¬μ™€ νΈλν”½ λ¶„μ‚°, κ³ κ°€μ©μ„± μ μ§€ λ“±μ κΈ°λ¥μ΄ ν•„μ”ν• μƒν™©μ€ μ•„λ‹μ—μ§€λ§ μΈμ¦μ„ κ΄€λ¦¬λ¥Ό λ€μ‹  ν•΄μ£Όλ” 2κ°€μ§€ λ°©λ²• μ¤‘ λ” μ„λ²„λ¥Ό μ„ν• λ°©λ²•μ΄κΈ° λ•λ¬Έμ΄κΈ°λ„ ν–μµλ‹λ‹¤.
λ  HTTPS νΈλν”½ μ²λ¦¬λ¥Ό λ΅λ“λ°Έλ°μ„μ—μ„ λ€μ‹ ν•΄μ¤μΌλ΅μ¨ λ°±μ—”λ“ μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μΌ μ μκΈ°λ„ ν–κ³ μ”.

μ΄ λ°©μ‹μ„ μ±„νƒν•κ² λλ©΄ λ΅λ“λ°Έλ°μ„κ°€ ν΄λΌμ΄μ–ΈνΈμ SSL μΈμ¦μ„λ¥Ό κ²€μ¦ν• λ’¤, HTTPS μ”μ²­μ„ ν•΄μ ν• ν›„ HTTPλ΅ λ°±μ—”λ“ μ„λ²„μ— μ”μ²­μ„ μ „λ‹¬ν•κΈ° λ•λ¬Έμ—
λ‚μ¤‘μ— μ‹¤μ  μ„λΉ„μ¤λ¥Ό μΆ€ λ” κΈ°κ°„μ„ λ‘κ³  λ°°ν¬ν•΄μ•Όν•  μΌμ΄ μƒκΈ΄ν•λ©΄  
ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„ λ¨λ“  κµ¬κ°„μ—μ„ μ•”νΈν™”λ¥Ό μ μ§€ν•μ—¬ λ°μ΄ν„° μ μ¶ κ°€λ¥μ„±μ„ μµμ†ν™”ν•  μ μμΌλ―€λ΅
End-to-End Encryption λ°©μ‹μΌλ΅ λ°©μ‹ 1λ„ ν•¨κ» μ μ©ν•  μ μμΌλ©΄ μΆ‹μ„ κ²ƒ κ°™μµλ‹λ‹¤.


## Nginx vs ELB μ–΄λ–¤ κ±Έλ΅ HTTPS λ¥Ό μ„¤μ •ν• κΉ?

κ·Έλμ„ μ„λ²„ μ•λ‹¨μ— HTTPSλ¥Ό μ κ³µν•λ” λ΅λ“ λ°Έλ°μ„λ¥Ό λ‘λ ¤κ³  ν–λ”λ°μ”! 

λ¨Όμ € μ κ°€ μ™ nginx κ°€ μ•„λ‹ ELB λ΅ HTTPS λ¥Ό μ μ©ν•μ€λ”κ°€, κ·Έ νλ‹¨ μ΄μ μ— λ€ν•΄ λ¨Όμ € μ΄μ•ΌκΈ° ν•΄λ³΄λ ¤κ³  ν•©λ‹λ‹¤ <br/>
λ¨Όμ € μ κ°€ μƒκ°ν• κ°κ°μ λ°©μ‹μ μ¥λ‹¨μ μ€ λ‹¤μκ³Ό κ°™μ•μµλ‹λ‹¤

| λΉ„κ³  | ELB                                                                                                                                                                                                 | Nginx                                                                                                                |
| --- |-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------|
| μ¥μ  | β… SSL μΈμ¦μ„ κ΄€λ¦¬, μλ™ κ°±μ‹ , μΈμ¦μ„ μ„¤μΉ λ“±μ <br/> μ‘μ—…μ„ AWSκ°€ λ€μ‹  μ²λ¦¬ν•λ―€λ΅ κ΄€λ¦¬ λ¶€λ‹΄μ΄ μ λ‹¤ <br/> β… νΈλν”½ λ¶€ν•λ¥Ό μλ™μΌλ΅ λ¶„μ‚°ν•κ³  μν‰μ μΌλ΅ <br/> ν™•μ¥ν•  μ μμ–΄, λ†’μ€ νΈλν”½μ„ μ²λ¦¬μ— μ λ¦¬ν•λ‹¤ <br/> β… AWSμ—μ„ μ κ³µν•λ” μΈμ¦μ„λ¥Ό μ‚¬μ©ν•λ©΄ λ³΄μ• <br/> μ„¤μ •μ΄ κ°•ν™”λκ³  μµμ‹  λ³΄μ• κ·μ •μ„ μ¤€μν•  μ μλ‹¤ | β… κ³ λ„λ΅ μ»¤μ¤ν„°λ§μ΄μ§• κ°€λ¥ν•μ—¬ νΉμ • νΈλν”½ μ²λ¦¬ λ°©μ‹ <br/> μ΄λ‚ κ³ κΈ‰ λ³΄μ• μ„¤μ •μ— μ©μ΄ν•λ‹¤ <br/> β… μμ²΄μ μΌλ΅ SSL μΈμ¦μ„λ¥Ό κ΄€λ¦¬ν•λ©΄ ELBλ¥Ό μ‚¬μ©ν•  <br/> λ•λ³΄λ‹¤ λΉ„μ©μ„ μ κ°ν•  μ μλ‹¤   |
| λ‹¨μ  | β ELB μ‚¬μ©μ— λΉ„μ©μ΄ λ“¤λ©° νΉν λ€κ·λ¨ νΈλν”½ <br/>μ κ²½μ° λΉ„μ©μ΄ μ¦κ°€ν•  μ μλ‹¤ <br/> β SSL μ„¤μ •μ— λ€ν• μ„Έλ¶€μ μΈ μ΅°μ •μ΄ ν•„μ”ν• κ²½μ° <br/> μ ν•μ΄ μμ„ μ μλ‹¤.                                                                                                | β μΈμ¦μ„ κ΄€λ¦¬, κ°±μ‹ , λ³΄μ• μ„¤μ • λ“± λ¨λ“  κ³Όμ •μ„ <br/> μ§μ ‘ κ΄€λ¦¬ν•΄μ•Ό ν•λ‹¤. <br/> β μμ²΄ μΈν”„λΌμ—μ„ μν‰μ  ν™•μ¥μ„ κµ¬μ¶•ν•΄μ•Ό ν•λ―€λ΅, <br/> ν΄λΌμ°λ“ λ„¤μ΄ν‹°λΈ λ°©μ‹μ ν™•μ¥μ„±μ—μ„ λ–¨μ–΄μ§ μ μλ‹¤. |

λ”°λΌμ„ AWSμ™€ κ°™μ€ ν΄λΌμ°λ“ ν™κ²½μ„ μ‚¬μ©ν•κ³  μμΌλ©°, ν™•μ¥μ„±, κ΄€λ¦¬ νΈμμ„±, μλ™ν™”λ SSL μΈμ¦μ„λ¥Ό μ›ν•λ‹¤λ©΄ ELBκ°€,
νΉμ • μ”κµ¬ μ‚¬ν•­μ— λ§κ² μ„Έλ¶€μ μΈ μ„¤μ •μ΄ ν•„μ”ν•κ±°λ‚ λΉ„μ©μ„ μµμ†ν™”ν•΄μ•Ό ν•λ” κ²½μ°, κ·Έλ¦¬κ³  μ¨ν”„λ λ―Έμ¤λ‚ μμ²΄ μ„λ²„ μΈν”„λΌλ¥Ό μ‚¬μ©ν•λ” κ²½μ°μ—λ” Nginxκ°€ λ” λ¶€ν•©ν•λ‹¤ νλ‹¨ν–μµλ‹λ‹¤.

μ  κ²½μ°μ—λ” AWS μ—μ„ λ¨λ“  ν™κ²½μ΄ κµ¬μ„±λμ–΄ μμ—μΌλ©° (RDS, EC2 λ°°ν¬ λ“±) μ§€μ›λ°›λ” λΉ„μ©μ΄ μμ—κ³  μ΄ν‹€ κ°„ μ„λ²„λ¥Ό λ„μ°λ©΄ λκΈ°μ— λΉ„μ© λ¶€λ‹΄μ΄ ν¬κ² μ—†μ—μΌλ©°
μ„Έλ¶€μ μΈ μ„¤μ •λ³΄λ‹¤λ” λΉ λ¥΄κ³  νΈλ¦¬ν• SSL μΈμ¦μ„κ°€ ν•„μ”ν–κΈ°μ— ELB μ‚¬μ©μ„ μ„ νƒν–μµλ‹λ‹¤.

## ELBλ΅ HTTPS μ„¤μ •ν•κΈ°

μ„¤μ • λ°©λ²•μ— λ€ν•΄μ„λ” λ‚μ¤‘μ— λ‹¤μ‹ μ μ©ν•κ² λλ©΄ κ·Έλ• μ‚¬μ§„κ³Ό ν•¨κ» μ¶”κ°€ν•λ„λ΅ ν•κ² μµλ‹λ‹¤..
μ§€κΈμ€ μ–΄λ–»κ² μ„¤μ •μ΄ λλ”μ§€λ§ <span style="color:rgb(128,128,128)">μ μΌν•κ² μΊ΅μ³ν• μ‚¬μ§„ λ‘ μ¥μΌλ΅</span> κ°„λµν•κ² μ„¤λ…ν•΄λ³΄λ ¤κ³  ν•λ”λ°μ”!

### λ€μƒκ·Έλ£Ή μ„¤μ •

<img width="1134" alt="" src="https://github.com/user-attachments/assets/0033cc14-733e-489f-8620-1ed664184089">

μ‚¬μ§„ μƒμ— ν‘κΈ°λ μ„¤μ •μ— λ€ν•΄ κ°„λ‹¨ν•κ² μ„¤λ…ν•κ³  λ„μ–΄κ°€κ² μµλ‹λ‹¤.

λ¨Όμ € λ€μƒ κ·Έλ£Ήμ„ μ¤€λΉ„ν•©λ‹λ‹¤. μ €λ” λ€μƒ κ·Έλ£Ήμ μ΄λ¦„μ„ `yesable-target-group` λΌκ³  λ…λ…ν•΄μ£Όμ—μµλ‹λ‹¤.
μ΄ κ·Έλ£Ήμ€ λ΅λ“ λ°Έλ°μ„κ°€ νΈλν”½μ„ λΌμ°ν…ν•  λ• μ–΄λ–¤ λ€μƒ(μ„λ²„ λλ” μΈμ¤ν„΄μ¤)μΌλ΅ λ³΄λ‚Όμ§€ μ •μν•©λ‹λ‹¤.

λ¨Όμ € μ  λ€μƒ κ·Έλ£Ήμ—μ„λ” μΈμ¤ν„΄μ¤λ΅ μ„¤μ •ν•΄ λ΅λ“ λ°Έλ°μ„κ°€ νΈλν”½μ„ AWS EC2 μΈμ¤ν„΄μ¤λ΅ μ „λ‹¬ν•λ„λ΅ ν–μµλ‹λ‹¤.
λ λ€μƒ κ·Έλ£Ήμ΄ νΈλν”½μ„ EC2 μΈμ¤ν„΄μ¤λ΅ μ „λ‹¬ν•  λ• <span style="color:rgb(128,128,128)">EC2 μΈμ¤ν„΄μ¤ λ‚΄λ¶€μ— SSL μΈμ¦μ„λ¥Ό μ„¤μΉν•μ§„ μ•μ•κΈ°μ—</span> HTTP ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•κ³  , 
ν¬νΈ 9475 λ΅ μ „λ‹¬ν•λ„λ΅ μ„¤μ •ν•λ©° ν”„λ΅ν† μ½ λ²„μ „μΌλ΅λ” HTTP/1.1 λ²„μ „μ„ μ‚¬μ©ν•΄  IPv4 μ£Όμ† μ²΄κ³„μ μΈμ¤ν„΄μ¤λ΅ μ—°κ²°ν•λ„λ΅ ν•©λ‹λ‹¤.
HTTP ν”„λ΅ν† μ½ λ²„μ „ λ³„ μ°¨μ΄κ°€ κ¶κΈν•μ‹λ©΄
[HTTP μ™€ HTTPS μ λΉ„κµ](https://github.com/al1kite/aws-study/blob/main/%EB%B9%84%EC%A0%84%EA%B3%B5%EC%9E%90%EB%8F%84%20%EC%9D%B4%ED%95%B4%ED%95%A0%20%EC%88%98%20%EC%9E%88%EB%8A%94%20AWS%20%EC%9E%85%EB%AC%B8%EA%B3%BC%20%EC%8B%A4%EC%A0%84/HTTPS%20%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0%20(ELB)/2%EC%A3%BC%EC%B0%A8%20%EA%B3%BC%EC%A0%9C.md)
μ— μ •λ¦¬ν•΄λ‘μ—μµλ‹λ‹¤ πƒ HTTPμ™€ HTTPSμ μ°¨μ΄λ„ μ •λ¦¬ν•΄λ‘μ—μΌλ‹ κ΄€μ‹¬ μμΌμ‹  λ¶„λ“¤μ€ μ°Έκ³ ν•μ‹λ©΄ μΆ‹μ„ κ²ƒ κ°™μµλ‹λ‹¤ 

<p style="text-align: center;"><a href="https://www.youtube.com/watch?v=H6lpFRpyl14"
          class="img-link shimmer"
        ><img src="https://img.youtube.com/vi/H6lpFRpyl14/0.jpg" alt="Video Label" loading="lazy"></a></p>

HTTPSμ™€ λ™μ‘ λ°©μ‹μ— λ€ν•΄ μ•κΈ° μ‰½κ² μ„¤λ…ν• μ νλΈκ°€ μμ–΄ κ΄€μ‹¬ μμΌμ‹  λ¶„λ“¤μ€ μ¶”μ²λ“λ¦½λ‹λ‹¤! <span style="color:rgb(128,128,128)"> κ°μΈμ μΌλ΅ ν•΄λ‹Ή μ νλ²„λ¶„μ΄ μ „μ²΄μ μΌλ΅ μ•κ² μ‰½κ² μ„¤λ…ν•΄μ£Όμ…”μ„ μΆ‹μ•„ν•©λ‹λ‹¤ </span>

μ΄λ•, μ‚¬μ§„ μƒμΌλ΅ λΉ„μ •μƒμ΄λΌκ³  λ¨λ” μ΄μ λ” ν—¬μ¤ μ²΄ν¬μ— μ‹¤ν¨ν–κΈ° λ•λ¬Έμ…λ‹λ‹¤.

### ν—¬μ¤μ²΄ν¬λ€?

ν—¬μ¤μ²΄ν¬λ€, μ„λ²„λ‚ μ»΄ν“¨ν„°κ°€ μ μ‘λ™ν•κ³  μλ”μ§€ ν™•μΈν•λ” μΌμΆ…μ `κ±΄κ°•κ²€μ§„` μ…λ‹λ‹¤.
ELBμ—μ„ ν—¬μ¤μ²΄ν¬κ°€ ν•„μ”ν• μ΄μ λ” ELBλ” μ—¬λ¬ λ€μ μ„λ²„μ— κ±Έμ³ νΈλν”½μ„ λ¶„μ‚°μ‹ν‚¤λ” μ—­ν• μ„ ν•λ”λ° 
μ΄λ• κ° μ„λ²„μ `κ±΄κ°• μƒνƒ`λ¥Ό μ§€μ†μ μΌλ΅ μ κ²€ν•μ—¬ λ¬Έμ κ°€ μλ” μ„λ²„μ—λ” νΈλν”½μ„ λ³΄λ‚΄μ§€ μ•λ„λ΅ κ΄€λ¦¬ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

μ„¤μ •λ κ°„κ²©μ— λ”°λΌ ELBλ” κ° μ„λ²„λ΅ ν•‘ μ”μ²­μ„ λ³΄λ‚΄κ³  μ„λ²„κ°€ μ μ‹κ°„μ— μ¬λ°”λ¥΄κ² μ‘λ‹µν•λ©΄ κ·Έ μ„λ²„λ” κ±΄κ°•ν•λ‹¤κ³  νλ‹¨ν•©λ‹λ‹¤.
μ„λ²„κ°€ μ‘λ‹µν•μ§€ μ•κ±°λ‚ μ¤λ¥ μ‘λ‹µμ„ λ°ν™ν•λ©΄ μ„¤μ •λ μ‹¤ν¨ μ„κ³„κ°’μ— λ„λ‹¬ν•  λ•κΉμ§€ κ³„μ† κ²€μ‚¬λ¥Ό μν–‰ν•©λ‹λ‹¤.
μ„κ³„κ°’μ— λ„λ‹¬ν•λ©΄ ν•΄λ‹Ή μ„λ²„λ” κ±΄κ°•ν•μ§€ μ•λ‹¤κ³  νλ‹¨λμ–΄ νΈλν”½μ—μ„ μ μ™Έλ©λ‹λ‹¤.
λΉ„μ •μƒμΌλ΅ νλ‹¨λ μ„λ²„κ°€ λ‹¤μ‹ μ—°μ†μ μΌλ΅ κ±΄κ°• νμ • μ„κ³„κ°’λ§νΌ μ •μƒ μ‘λ‹µμ„ ν•λ©΄ λ‹¤μ‹ νΈλν”½μ„ λ°›μ„ μ μκ² ν•©λ‹λ‹¤.

> μ΄λ• ν•‘ (Ping) μ”μ²­μ΄λ€ μ»΄ν“¨ν„° λ„¤νΈμ›ν¬μ—μ„ νΉμ • μ„λ²„λ‚ μ¥μΉκ°€ μ¨λΌμΈ μƒνƒμΈμ§€ ν™•μΈν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” ν…μ¤νΈ λ°©λ²•μΌλ΅ 
> λ„¤νΈμ›ν¬ ν†µμ‹  λ¬Έμ λ¥Ό μ§„λ‹¨ν•λ” λ° μ‚¬μ©ν•λ” λ„¤νΈμ›ν¬ κ³„μΈµ ν”„λ΅ν† μ½μΈ `ICMP(Internet Control Message Protocol)`λΌλ” ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•΄ 
> λ„¤νΈμ›ν¬ μƒμ λ‹¤λ¥Έ μ¥μΉμ— "λ‚ μ—¬κΉ„λ”λ° λ„ μ‘λ‹µν•  μ μμ–΄?"λΌκ³  λ¬»λ” λ°©μ‹μ…λ‹λ‹¤. 
> μ΄λ¥Ό ν†µν•΄ λ„¤νΈμ›ν¬ μ—°κ²° μƒνƒλ¥Ό ν™•μΈν•κ³  λ„¤νΈμ›ν¬ μ—°κ²°μ— λ¬Έμ κ°€ μμ„ λ•, μ–΄λ μ§€μ μ—μ„ λ¬Έμ κ°€ λ°μƒν–λ”μ§€ μ§„λ‹¨ν•  μ μμΌλ©° 
> μ”μ²­μ„ λ³΄λ‚΄κ³  μ‘λ‹µμ΄ λμ•„μ¤κΈ°κΉμ§€ κ±Έλ¦° μ‹κ°„μ„ ν†µν•΄ λ„¤νΈμ›ν¬μ μ†λ„(μ‘λ‹µ μ‹κ°„)λ¥Ό νμ•…ν•  μ μμµλ‹λ‹¤.
{: .prompt-info }

μ΄λ ‡κ² ELBλ” μ„λ²„ κ·Έλ£Ήμ κ±΄κ°•μ„ μ§€μ†μ μΌλ΅ λ¨λ‹ν„°λ§ν•λ©΄μ„ νΈλν”½μ„ μ•μ •μ μΌλ΅ κ΄€λ¦¬ν•  μ μλ„λ΅ ν•λ©°
μ „μ²΄ μ‹μ¤ν…μ κ°€μ©μ„±κ³Ό μ•μ •μ„±μ„ λ†’μ΄λ” λ° μ¤‘μ”ν• μ—­ν• μ„ ν•©λ‹λ‹¤.

#### ν—¬μ¤μ²΄ν¬ μ„¤μ •ν•λ” λ²•

μ΄λ ‡κ² μ¤‘μ”ν• ν—¬μ¤μ²΄ν¬, μ–΄λ–»κ² μ„¤μ •ν• κΉμ”?

![IMG_0061](https://github.com/user-attachments/assets/10227d85-8e0d-47bb-82f2-657d3c38d76d)

μΌλ‹¨ ELB μ„¤μ • ν•λ‹¨μ— λ‹¤μ μ‚¬μ§„κ³Ό κ°™μ΄ ν—¬μ¤μ²΄ν¬λ¥Ό μ„¤μ •ν•  μ μμµλ‹λ‹¤.
μΌλ‹¨ μ €λ” λ€μƒ κ·Έλ£Ήμ κ°κ°μ EC2 μΈμ¤ν„΄μ¤μ— HTTP ν”„λ΅ν† μ½μ„ ν™μ©ν•΄ `GET` `/health` URIλ΅ μ”μ²­μ„ λ³΄λ‚΄κ²λ” μ„¤μ •ν•©λ‹λ‹¤. 
μ •μƒμ μΈ ν—¬μ¤ μ²΄ν¬ κΈ°λ¥μ„ μ„ν•΄ EC2 μΈμ¤ν„΄μ¤μ—μ„ μ‘λ™ν•κ³  μλ” λ°±μ—”λ“ μ„λ²„μ— Health Checkμ© APIλ¥Ό λ§λ“¤μ–΄μ•Ό ν•©λ‹λ‹¤!

```java
@Slf4j
@RestController
@RequiredArgsConstructor
public class HealthController {
    @GetMapping("/health")
    public ResponseEntity<String> healthcheck() {
        return new ResponseEntity<>("ok", HttpStatus.OK);
    }
}
```

λ”°λΌμ„ λ‹¤μκ³Ό κ°™μ€ Health Checkμ© APIλ¥Ό μ¶”κ°€ν•΄μ£Όλ©΄, ELBκ°€ μ„λ²„λ΅ ν•‘ μ”μ²­μ„ λ³΄λ‚΄κ³  μ„λ²„κ°€ μ μ‹κ°„μ— μ¬λ°”λ¥΄κ² μ‘λ‹µν•λ”μ§€λ¥Ό ν…μ¤νΈν•©λ‹λ‹¤.
λ” μμ„Έν• λ‚΄μ©μ„ μ•κ³  μ‹¶μΌλ©΄ [AWSμ Network Load Balancer λ€μƒ κ·Έλ£Ήμ μƒνƒ μ κ²€ κΈ€](https://docs.aws.amazon.com/ko_kr/elasticloadbalancing/latest/application/target-group-health-checks.html)μ„ μ½μ–΄λ³΄μ‹λ©΄ μΆ‹μ„ κ²ƒ κ°™μµλ‹λ‹¤!

### λ΅λ“ λ°Έλ°μ„ μ„¤μ •

<img width="1108" alt="" src="https://github.com/user-attachments/assets/bc24d214-1e3b-49ea-86dd-dbe7ab4f5223">

μ΄μ  λ΅λ“ λ°Έλ°μ„μ μ„¤μ •μ— λ€ν•΄ μ‚΄ν΄ λ³΄κ² μµλ‹λ‹¤.

λ΅λ“ λ°Έλ°μ„μ—” HTTPS:443 λ¦¬μ¤λ„κ°€ μ„¤μ • λμ–΄ μμµλ‹λ‹¤. λ¦¬μ¤λ„λ” λ΅λ“ λ°Έλ°μ„κ°€ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μμ‹ ν•λ” λ°©λ²•μ„ μ •μν•©λ‹λ‹¤.
μ—¬κΈ°μ„ HTTPS:443μ€ λ΅λ“ λ°Έλ°μ„κ°€ ν¬νΈ 443(HTTPS κΈ°λ³Έ ν¬νΈ)μ—μ„ HTTPS ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•΄ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μμ‹ ν•©λ‹λ‹¤.
ν΄λΌμ΄μ–ΈνΈμ HTTPS μ”μ²­μ΄ λ΅λ“ λ°Έλ°μ„μ— λ„λ‹¬ ν•λ©΄ λ΅λ“ λ°Έλ°μ„λ” μ΄ μ”μ²­μ„ μ„μ— μ„¤μ •ν• λ³΄μ• κ·Έλ£ΉμΈ `yesable-target-group-https`λ΅ μ „λ‹¬ν•©λ‹λ‹¤.

μ¦‰, λ΅λ“ λ°Έλ°μ„κ°€ HTTPS:443μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μμ‹ ν•κ³  μ΄ν›„ λ€μƒ μ„λ²„λ΅ HTTP ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•΄ νΈλν”½μ„ μ „λ‹¬ν•λ„λ΅ μ„¤μ •ν–μµλ‹λ‹¤.
λ΅λ“ λ°Έλ°μ„κ°€ ν”„λ΅μ‹ μ„λ²„μ™€ κ°™μ€ μ—­ν• μ„ ν•λ„λ΅ ν• κ²λ‹λ‹¤.

## ν”„λ΅μ‹ μ„λ²„μ™€ λ΅λ“ λ°Έλ°μ„μ μƒκ΄€κ΄€κ³„

ν”„λ΅μ‹ μ„λ²„μ™€ λ΅λ“ λ°Έλ°μ„μ κ³µν†µμ μ€ λ‘ λ‹¤ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ—μ„ μ”μ²­μ„ μ¤‘κ³„ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤. 
ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄λ” λ€μ‹ , λ¨Όμ € λ΅λ“ λ°Έλ°μ„λ‚ ν”„λ΅μ‹ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³ , μ΄ μ„λ²„κ°€ μ”μ²­μ„ μµμΆ… λ©μ μ§€μΈ μ„λ²„λ΅ μ „λ‹¬ν•λ” κµ¬μ΅°λ¥Ό κ°–μµλ‹λ‹¤.

λ‹¤λ§ μ°¨μ΄μ λ„ μ΅΄μ¬ν•λ”λ°μ”, λ΅λ“ λ°Έλ°μ„λ” μ„λ²„ κ°„μ λ¶€ν•λ¥Ό λ¶„μ‚°ν•κ³  κ°€μ©μ„±μ„ λ³΄μ¥ν•λ” κ²ƒμ— μ£Όλ λ©μ μ„ κ°–κ³  μμµλ‹λ‹¤.
λ°λ©΄, ν”„λ΅μ‹ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ μ¤‘κ° μ—­ν• κ³Ό λ”λ¶μ–΄ λ³΄μ•, μΊμ‹±, IP λ§μ¤ν‚Ή λ“±μ μ—­ν• μ„ μν–‰ ν•©λ‹λ‹¤.
μ΄ λ‘μ μ°¨μ΄κ°€ μ •ν™•ν•κ² λ­κΉμ”?

### ν”„λ΅μ‹ μ„λ²„μ™€ λ΅λ“ λ°Έλ°μ„μ μ—­ν•  λΉ„κµ

μ΄λ² μ‹κ°„μ—λ” HTTPS μ— λ€ν•΄ μ•μ•„λ³΄λ” κΈ€μ΄λ―€λ΅, HTTPSμ— μ¤‘μ μ„ λ§μ¶° μ΄μ•ΌκΈ° ν•΄λ³΄κ² μµλ‹λ‹¤.

#### ν”„λ΅μ‹ μ„λ²„

ν”„λ΅μ‹ μ„λ²„λ” μ£Όλ΅ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ¤‘κ³„ν•λ” μ—­ν• λ΅, ν΄λΌμ΄μ–ΈνΈμ IP μ£Όμ†λ¥Ό μ¨κΈ°κ³  μΊμ‹±μ„ ν†µν•΄ μ”μ²­ μ†λ„λ¥Ό λ†’μ΄κ±°λ‚ νΉμ • μ½ν…μΈ  ν•„ν„°λ§ λ“± λ³΄μ•μ„ κ°•ν™” ν•λ” λ° μ‚¬μ© λ©λ‹λ‹¤.
ν”„λ΅μ‹ μ„λ²„λ” λ‘ κ°€μ§€ μ£Όμ” μ ν•μΌλ΅ λ‚λ‰©λ‹λ‹¤.

- **Forward Proxy**: ν΄λΌμ΄μ–ΈνΈκ°€ μ™Έλ¶€ μ„λ²„μ— μ ‘κ·Όν•  λ• μ¤‘κ°„μ— μ„μΉν•μ—¬ μ”μ²­μ„ λ€λ¦¬ν•λ” μ—­ν• λ΅,
  ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ„λ²„λ΅ λ€μ‹  λ³΄λ‚΄κ³ , μ„λ²„μ μ‘λ‹µμ„ λ‹¤μ‹ ν΄λΌμ΄μ–ΈνΈλ΅ μ „λ‹¬ν•©λ‹λ‹¤.
λ”°λΌμ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘κ·Όν•  λ• ν”„λ΅μ‹ μ„λ²„λ¥Ό ν†µν•΄ μ ‘κ·Όν•©λ‹λ‹¤. HTTPS ν™κ²½μ—μ„λ” ν΄λΌμ΄μ–ΈνΈμ™€ ν”„λ΅μ‹ μ„λ²„ κ°„μ μ—°κ²°μ΄ SSLλ΅ λ³΄νΈλ©λ‹λ‹¤.

- **Reverse Proxy**: μ„λ²„μ μ•λ‹¨μ— μ„μΉν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ°›μ•„ λ‚΄λ¶€ μ„λ²„λ΅ μ „λ‹¬ν•λ©° λ³΄μ•μ΄λ‚ λ΅λ“ λ°Έλ°μ‹±μ„ μ„ν• μ—­ν• λ΅,
  μ„λ²„ μ½μ— μ„μΉ ν•λ©°, ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅ λ³΄λ‚΄λ” μ”μ²­μ„ λ°›μ•„μ„ ν•΄λ‹Ή μ”μ²­μ„ μ‹¤μ  μ„λ²„λ΅ μ „λ‹¬ν•©λ‹λ‹¤. 
  μΌλ°μ μΌλ΅ λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” λ¶€ν• λ¶„μ‚°, SSL μ²λ¦¬, μΊμ‹± λ“±μ κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. 
  μ—¬κΈ°μ„ λ΅λ“ λ°Έλ°μ„λ” λ¦¬λ²„μ¤ ν”„λ΅μ‹μ ν• ν•νƒλ΅ μ΄ν•΄λ  μ μμµλ‹λ‹¤.
  λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” λ΅λ“ λ°Έλ°μ„μ κΈ°λ¥λ„ ν•  μ μμΌλ©°, SSL Termination μ—­ν• μ„ λ§΅μ•„ μ„λ²„ λ€μ‹  ν΄λΌμ΄μ–ΈνΈμ™€ SSL μ—°κ²°μ„ ν•΄μ ν•  μ μμµλ‹λ‹¤.
  μ¦‰, λ΅λ“ λ°Έλ°μ„μ™€ λ§μ°¬κ°€μ§€λ΅ SSL μΈμ¦μ„λ¥Ό λ€μ‹  κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.

κ·Έλ ‡λ‹¤κ³  λ¨λ“  λ΅λ“ λ°Έλ°μ„κ°€ λ¦¬λ²„μ¤ ν”„λ΅μ‹μ ν•νƒμΈ κ±΄ μ•„λ‹™λ‹λ‹¤!

#### λ΅λ“ λ°Έλ°μ„

λ΅λ“ λ°Έλ°μ„λ” λ‹¤μμ μ„λ²„μ— νΈλν”½μ„ λ¶„μ‚°ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤. 
μ—¬λ¬ λ°±μ—”λ“ μ„λ²„λ΅λ¶€ν„° μ”μ²­μ„ λ°›μ•„λ“¤μ—¬ νΈλν”½μ„ κ· λ“±ν•κ² λ‚λ„μ–΄ μ‹μ¤ν… μ„±λ¥μ„ μµμ ν™”ν•©λ‹λ‹¤. 
λ΅λ“ λ°Έλ°μ„λ” λ‘ κ°€μ§€ λ°©μ‹μΌλ΅ λ™μ‘ν•  μ μμµλ‹λ‹¤.

- **L4 λ΅λ“ λ°Έλ°μ‹± (μ „μ†΅ κ³„μΈµ)**: μ „μ†΅ κ³„μΈµ ν”„λ΅ν† μ½μΈ TCP/UDP ν¨ν‚·μ„ κΈ°λ°μΌλ΅ νΈλν”½μ„ λ¶„μ‚°ν•©λ‹λ‹¤. 
μ• ν”λ¦¬μΌ€μ΄μ…μ λ‚΄λ¶€ κµ¬μ΅°λ‚ μ„Έλ¶€μ μΈ λ‚΄μ©μ€ μ‹ κ²½ μ“°μ§€ μ•κ³  νΈλν”½μ„ μ²λ¦¬ν•©λ‹λ‹¤.
λν• μ—°κ²° μƒνƒλ¥Ό μ¶”μ ν•μ§€ μ•μΌλ©°, ν΄λΌμ΄μ–ΈνΈμ νΈλν”½μ„ λ‹¨μν μ„¤μ •λ κ·μΉ™μ— λ”°λΌ λ°±μ—”λ“ μ„λ²„λ΅ λΌμ°ν…ν•©λ‹λ‹¤.
TLS/SSL μ²λ¦¬μ— μμ–΄μ„λ” νΈλν”½μ μ•”νΈν™”λ μƒνƒλ¥Ό κ·Έλ€λ΅ μ μ§€ν•λ©΄μ„ λ¶„μ‚°μ‹ν‚¤λ©°, SSL passthrough λ΅ μ²λ¦¬ν•λ” κ²½μ°λ„ λ§μµλ‹λ‹¤.
λ”°λΌμ„ λ‹¨μν μ—°κ²° μ •λ³΄λ΅ λΌμ°ν…ν•λ©° SSL λ³µνΈν™” μ‘μ—…μ„ λ΅λ“ λ°Έλ°μ„κ°€ ν•μ§€ μ•κΈ° λ•λ¬Έμ— L7 λ΅λ“ λ°Έλ°μ„μ™€ λΉ„κµν•΄ νΈλν”½μ„ λ” λΉ λ¥΄κ³  κ°€λ³κ² μ²λ¦¬ν•©λ‹λ‹¤.
μ΄ κ²½μ°μ—λ” λ΅λ“ λ°Έλ°μ„κ°€ ν¨ν‚·μ„ κ·Έλ€λ΅ μ „λ‹¬ν•κΈ° λ•λ¬Έμ— ν”„λ΅μ‹ μ—­ν• μ„ ν•μ§€ μ•μ„ μ μμµλ‹λ‹¤.
HTTPS κ΄€μ μ—μ„ λ³Έλ‹¤λ©΄ L4 λ΅λ“ λ°Έλ°μ‹±μ€ TCP λ λ²¨μ—μ„ ν¨ν‚·μ„ λ¶„μ‚°ν•κ³  SSL μ„Έμ…μ„ μ§μ ‘ μ²λ¦¬ν•μ§€ μ•μΌλ―€λ΅,
λ΅λ“ λ°Έλ°μ„λ” ν”„λ΅μ‹ μ„λ²„μ™€ λ³„κ°μ μ—­ν• μ„ μν–‰ν•©λ‹λ‹¤.

- **L7 λ΅λ“ λ°Έλ°μ‹± (μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ)**: HTTP/HTTPSμ™€ κ°™μ€ μ• ν”λ¦¬μΌ€μ΄μ… λ λ²¨μ—μ„ μ”μ²­μ„ λ¶„μ‚°ν•©λ‹λ‹¤. 
μ΄ κ²½μ° λ΅λ“ λ°Έλ°μ„λ” λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ„λ²„μ²λΌ μ‘λ™ν•©λ‹λ‹¤. 
ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ°›κ³  μ μ ν• λ°±μ—”λ“ μ„λ²„λ΅ μ „λ‹¬ν•λ” μ—­ν• μ„ ν•λ―€λ΅, ν”„λ΅μ‹ μ„λ²„μ™€ μ μ‚¬ν•κ² ν–‰λ™ν•©λ‹λ‹¤.
HTTPS κ΄€μ μ—μ„ λ³Έλ‹¤λ©΄ L7 λ΅λ“ λ°Έλ°μ‹±μ€ HTTPS μ”μ²­μ„ μ²λ¦¬ν•  λ• ν”„λ΅μ‹ μ„λ²„μ²λΌ μ‘λ™ν•©λ‹λ‹¤. 
SSL Terminationμ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ λ°±μ—”λ“ μ„λ²„ κ°„μ SSL ν†µμ‹ μ„ κ΄€λ¦¬ν•κ³  νΈλν”½μ„ λ¶„μ‚°ν•©λ‹λ‹¤. 
μ΄ κ³Όμ •μ—μ„ ν”„λ΅μ‹ μ„λ²„μ™€ μ μ‚¬ν• λ™μ‘μ„ ν•κ² λ©λ‹λ‹¤.

`SSL Termination` μ΄λΌλ” λ§μ΄ λ‚μ™”λ”λ° μ΄κ±΄ λ­κΉμ”? <BR>
λ΅λ“ λ°Έλ°μ„κ°€ HTTPSμ™€ μƒνΈμ‘μ©ν•λ” λ°©μ‹μ—λ” λ‘ κ°€μ§€ μ‹λ‚λ¦¬μ¤κ°€ μμµλ‹λ‹¤

1. **SSL Termination**: μ κ°€ μ±„νƒν• λ°©λ²•μ΄κΈ°λ„ ν•λ°μ”, λ΅λ“ λ°Έλ°μ„μ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€μ SSL μ—°κ²°μ„ ν•΄μ ν•κ³ , κ·Έ μ΄ν›„μ ν†µμ‹ μ€ μ•”νΈν™”λμ§€ μ•μ€ HTTPλ΅ λ°±μ—”λ“ μ„λ²„μ™€ ν†µμ‹ ν•©λ‹λ‹¤. 
λ΅λ“ λ°Έλ°μ„κ°€ SSL μΈμ¦μ„λ¥Ό κ΄€λ¦¬ν•λ©°, ν΄λΌμ΄μ–ΈνΈμ™€ λ΅λ“ λ°Έλ°μ„ κ°„μ—λ” HTTPSλ΅ ν†µμ‹ ν•μ§€λ§, λ΅λ“ λ°Έλ°μ„μ™€ μ„λ²„ κ°„μ—λ” HTTPλ΅ ν†µμ‹ λ©λ‹λ‹¤. 
μ΄ λ°©μ‹μ€ μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μ΄κ³  SSL/TLS μ²λ¦¬λ¥Ό μ¤‘μ•™μ—μ„ κ΄€λ¦¬ν•  μ μκ² ν•΄ μ¤λ‹λ‹¤.
2. **SSL Passthrough**: λ΅λ“ λ°Έλ°μ„λ” ν΄λΌμ΄μ–ΈνΈμ SSL μ”μ²­μ„ λ‹¨μν λ°±μ—”λ“ μ„λ²„λ΅ μ „λ‹¬ν•κ³  SSL ν•΄μ  μ‘μ—…μ€ λ°±μ—”λ“ μ„λ²„μ—μ„ μ²λ¦¬λ©λ‹λ‹¤. 
μ΄ λ°©μ‹μ—μ„λ” λ΅λ“ λ°Έλ°μ„κ°€ ν΄λΌμ΄μ–ΈνΈμ™€ λ°±μ—”λ“ κ°„μ SSL μ—°κ²°μ„ ν•΄μ ν•μ§€ μ•κ³ , μ„λ²„κ°€ μ§μ ‘ SSLμ„ μ²λ¦¬ν•©λ‹λ‹¤. 
μ΄ κ²½μ° λ°±μ—”λ“ μ„λ²„λ” κ°μμ SSL μΈμ¦μ„λ¥Ό κ΄€λ¦¬ν•΄μ•Ό ν•©λ‹λ‹¤. 
μ„μ HTTPS λ¥Ό μ„¤μ •ν•λ” λ°©λ²•μ—μ„ μ²« λ²μ§Έ λ°©λ²•μΈ `μ§μ ‘ CAμ—μ„ κµ¬λ§¤ν• μΈμ¦μ„λ¥Ό κΈ°λ°μΌλ΅ HTTPS μ„λΉ„μ¤λ¥Ό κµ¬μ¶•ν•λ” λ°©λ²•` μ΄ λ  μ μκ² μ£ !

#### L7 λ΅λ“λ°Έλ°μ‹±κ³Ό Reverse Proxyμ μ°¨μ΄

λ°©κΈ μ „, Reverse Proxyλ” λ΅λ“ λ°Έλ°μ„μ™€ λ§μ°¬κ°€μ§€λ΅ λ΅λ“ λ°Έλ°μ„μ κΈ°λ¥λ„ ν•  μ μκ³  SSL μΈμ¦μ„λ¥Ό λ€μ‹  κ΄€λ¦¬ν•  μ μμΌλ©°, 
L7 λ΅λ“ λ°Έλ°μ„λ” λ¦¬λ²„μ¤ ν”„λ΅μ‹μ ν• ν•νƒλ΅ μ΄ν•΄λ  μ μλ‹¤ ν–λ”λ°μ”.

λ‘ λ‹¤ μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμΈ L7 κ³„μΈµμ—μ„ μ‘λ™ν•λ©°, ν΄λΌμ΄μ–ΈνΈμ HTTP/HTTPS μ”μ²­μ„ λ°›μ•„λ“¤μ—¬ 
νΉμ • URL κ²½λ΅λ‚ μΏ ν‚¤ κ°’μ— λ”°λΌ νΈλν”½μ„ λ¶„λ°°ν•λ” λ“± 
ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ ν¨ν„΄μ— λ”°λΌ νΈλν”½μ„ λ¶„μ„ν•κ³ , ν•΄λ‹Ήν•λ” λ°±μ—”λ“ μ„λ²„λ΅ μ „λ‹¬ν•κ³  μ‘λ‹µμ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ°ν™ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.
μ΄ κ³Όμ •μ—μ„ ν΄λΌμ΄μ–ΈνΈλ” λ°±μ—”λ“ μ„λ²„μ μ‹¤μ  IPλ¥Ό μ•μ§€ λ»ν•κ² λ©λ‹λ‹¤. μ¦‰, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ¤‘κ°μ μ—­ν• μ„ ν•λ‹¤λ” μ μ—μ„ μ μ‚¬ν•©λ‹λ‹¤.

κ·Έλ ‡λ‹¤λ©΄ λ‘μ μ°¨μ΄λ” λ­κΉμ”?

`Reverse Proxy`μ™€ `L7 λ΅λ“ λ°Έλ°μ„`λ” κΈ°λ¥μ  μ μ‚¬μ„±μ΄ μμ§€λ§, κ·Έ `λ©μ `μ— λ”°λΌ λ‹¤λ¥΄κ² μ‚¬μ©λ©λ‹λ‹¤.

`Reverse Proxy`λ” μ£Όλ΅ λ³΄μ•, SSL μ²λ¦¬, μΊμ‹± λ° μ”μ²­ λΌμ°ν…μ„ μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤.
μ¦‰, Reverse Proxyλ” ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ λ°›μ•„ νΉμ • μ„λ²„λ΅ λΌμ°ν…ν•λ” μ—­ν• μ„ ν•κ³ , μ„λ²„μ λ¶€ν• λ¶„μ‚°μ΄ μ£Όλ©μ μ΄ μ•„λ‹™λ‹λ‹¤.
ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ¤‘κ°μλ΅μ„ μ„λ²„λ¥Ό λ³΄νΈν•κ³ , μ„λ²„μ IPλ¥Ό μ¨κΈ°λ©°, λ¶€ν•κ°€ μ•„λ‹ νΉμ • μ„λ²„μ— λ€ν• μ”μ²­μ„ μ „λ‹¬ν•©λ‹λ‹¤.
νΉν, λ³΄μ•μ μΈ μ΄μ λ΅ ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ μ„λ²„μ— μ ‘κ·Όν•μ§€ λ»ν•κ² ν•  λ• μ μ©ν•©λ‹λ‹¤. 
μλ¥Ό λ“¤μ–΄, ν”„λ΅μ‹ μ„λ²„κ°€ SSL μΈμ¦μ„λ¥Ό κ΄€λ¦¬ν•κ±°λ‚, μΊμ‹λ¥Ό ν™μ©ν•΄ μ‘λ‹µ μ†λ„λ¥Ό λ†’μ΄λ” μ—­ν• λ„ ν•©λ‹λ‹¤.
Reverse Proxyλ” μ£Όλ΅ μ •μ μΈ μ„λ²„μ™€ μ—°κ²°ν•λ” λ°©μ‹μ…λ‹λ‹¤. 
ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— λ³΄λ‚΄λ” λ¨λ“  μ”μ²­μ€ Reverse Proxyλ¥Ό ν†µν•΄ νΉμ • μ„λ²„λ΅ μ „λ‹¬λλ©°, 
νΈλν”½μ„ λ‚λ„κΈ°λ³΄λ‹¤λ” λΌμ°ν…μ— μ¤‘μ μ„ λ‘λ©° ν΄λΌμ΄μ–ΈνΈμ™€ νΉμ • μ„λ²„ κ°„μ μ¤‘κ°„μ μ—­ν• μ— μ§‘μ¤‘ν•©λ‹λ‹¤.
ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μ–΄λ μ„λ²„λ΅ λ³΄λ‚Όμ§€ μ •ν•κ³ , λ°±μ—”λ“ μ„λ²„λ΅λ¶€ν„° λ°›μ€ μ‘λ‹µμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λλ ¤μ£Όλ” μ¤‘κ°μ μ—­ν• μ΄λ―€λ΅ 
λ³΄ν†µ κ³ μ •λ ν•λ‚ λλ” μ†μμ μ„λ²„λ΅λ§ μ”μ²­μ„ λ³΄λ‚΄λ” κ²½μ°κ°€ λ§μµλ‹λ‹¤.

λ°λ©΄, `L7 λ΅λ“ λ°Έλ°μ„`μ μ£Όλ©μ μ€ νΈλν”½ λ¶„μ‚°μ…λ‹λ‹¤. λ‹¤μμ μ„λ²„ ν’€μ— νΈλν”½μ„ λ¶„μ‚°ν•λ” κ²ƒμ— μ£Όλ©μ μ„ λ‘΅λ‹λ‹¤. 
μ¦‰, ν΄λΌμ΄μ–ΈνΈκ°€ λ΅λ“ λ°Έλ°μ„μ— μ”μ²­μ„ λ³΄λ‚΄λ©΄, λ΅λ“ λ°Έλ°μ„λ” κ·Έ μ”μ²­μ„ λ°±μ—”λ“ μ„λ²„λ“¤ κ°„μ— λ¶„λ°°ν•μ—¬ λ¶€ν• λ¶„μ‚°μ„ μν–‰ν•©λ‹λ‹¤. 
μ΄λ• λ΅λ“ λ°Έλ°μ„λ” μ„λ²„ μƒνƒ(ν—¬μ¤μ²΄ν¬ λ“±)λ¥Ό λ¨λ‹ν„°λ§ν•κ³ , μ¥μ• κ°€ μλ” μ„λ²„λ¥Ό μλ™μΌλ΅ μ μ™Έν•  μ μμµλ‹λ‹¤.
μ΄λ ‡κ² μ—¬λ¬ λ°±μ—”λ“ μ„λ²„ κ°„μ— HTTP/HTTPS μ”μ²­μ„ ν¨μ¨μ μΌλ΅ λ¶„λ°°ν•΄ μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μ΄κ³ , νΈλν”½μ΄ νΉμ • μ„λ²„μ— λ°λ¦¬μ§€ μ•κ² ν•©λ‹λ‹¤. 
λ¬Όλ΅  SSL μ²λ¦¬, μ”μ²­ λΌμ°ν… λ“±λ„ ν•  μ μμ§€λ§, κ·Έ ν•µμ‹¬ κΈ°λ¥μ€ μ„λ²„ ν’€ κ°„μ λ¶€ν•λ¥Ό κ· λ“±ν•κ² λ¶„μ‚°ν•λ” κ²ƒμ…λ‹λ‹¤. 
μ¦‰, λ‹¤μμ μ„λ²„ κ°„μ— λ™μ μΈ νΈλν”½ κ΄€λ¦¬κ°€ ν•„μ”ν•  λ• μ‚¬μ©λ©λ‹λ‹¤.

## κ·Έλ ‡λ‹¤λ©΄, μ¤μ„μΉμ™€ λ΅λ“λ°Έλ°μ„λ”?

λ°©κΈ λ΅λ“λ°Έλ°μ„λ¥Ό μ„¤λ…ν•  λ• μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμΈ L7 κ³„μΈµκ³Ό L4 κ³„μΈµμ—μ„μ λ΅λ“λ°Έλ°μ„λ¥Ό λΉ„κµν–μ—λ”λ°μ”!
L7, L4 κ³„μΈµμ€ λ„¤νΈμ›ν¬μ κ·Όκ°„μ΄ λλ” OSI 7κ³„μΈµμ—μ„ μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµκ³Ό μ „μ†΅ κ³„μΈµμ„ μλ―Έν•©λ‹λ‹¤.
μ΄λ¬ν• μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ—λ” L7 μ¤μ„μΉκ°€, μ „μ†΅ κ³„μΈµμ—λ” L4 μ¤μ„μΉκ°€ μλ”λ°μ”,
μ΄λ• μ¤μ„μΉλ€ λ„¤νΈμ›ν¬ μ¥λΉ„ μ¤‘ ν•λ‚λ΅, λ°μ΄ν„° ν¨ν‚·μ„ μ „μ†΅ν•  λ©μ μ§€λ΅ ν¨μ¨μ μΌλ΅ μ „λ‹¬ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.

### L7 μ¤μ„μΉμ™€ L7 λ΅λ“λ°Έλ°μ„
L7 μ¤μ„μΉμ™€ λ΅λ“ λ°Έλ°μ„λ” μ μ‚¬ν• κ°λ…μΌλ΅, μ£Όλ΅ OSI 7κ³„μΈµμΈ μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ—μ„ μ‘λ™ν•λ©΄μ„ νΈλν”½μ„ κ΄€λ¦¬ν•λ” μ—­ν• μ„ μν–‰ν•©λ‹λ‹¤. 
ν•μ§€λ§ λ‘ μ‚¬μ΄μ—λ” μ•½κ°„μ μ°¨μ΄κ°€ μμµλ‹λ‹¤.

L7 μ¤μ„μΉμ€ μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ—μ„ μ‘λ™ν•λ” μ¤μ„μΉλ΅, HTTP(S), FTP, DNS κ°™μ€ ν”„λ΅ν† μ½μ— λ”°λΌ νΈλν”½μ„ μ²λ¦¬ν•κ³  λΌμ°ν…ν•©λ‹λ‹¤.
λ”°λΌμ„ URL, μΏ ν‚¤, μ„Έμ… μ •λ³΄ λ“±μ„ κΈ°λ°μΌλ΅ νΈλν”½μ„ λΌμ°ν…ν•  μ μκ³ , 
νΉμ • μ”μ²­(μ: λ΅κ·ΈμΈ νμ΄μ§€, μ΄λ―Έμ§€ μ”μ²­ λ“±)μ— λ”°λΌ μ ν•©ν• μ„λ²„μ— νΈλν”½μ„ λ³΄λ‚΄λ” λ“±, λ‹¤μ–‘ν• μ”μ²­μ„ μ„Έλ°€ν•κ² μ²λ¦¬ν•  μ μμΌλ©°
SSL/TLS μ•”νΈν™” μ²λ¦¬, μΈμ¦ λ° κΈ°νƒ€ λ³΄μ• κ²€μ‚¬λ¥Ό μ μ©ν•  μ μμµλ‹λ‹¤.

L7 μ¤μ„μΉλ” μΌμΆ…μ κ³ κΈ‰ νΈλν”½ κ΄€λ¦¬ μ¥μΉλ΅, L7 λ΅λ“ λ°Έλ°μ‹± κΈ°λ¥μ„ ν¬ν•¨ν•  μ μμµλ‹λ‹¤. 
κ·Έλ¬λ‚, μ¤μ„μΉ­μ΄λΌλ” μ©μ–΄λ” λ” κ΄‘λ²”μ„ν• λ„¤νΈμ›ν¬ κ΄€λ¦¬ κΈ°λ¥μ„ μλ―Έν•  μ μμµλ‹λ‹¤. 
L7 μ¤μ„μΉλ„ μ„λ²„ κ°„ νΈλν”½μ„ λ¶„λ°°ν•λ”λ° μ‚¬μ©ν•  μ μμ§€λ§, κΈ°λ³Έμ μΈ λ©μ μ€ νΈλν”½μ„ λ‹¤μ–‘ν• κΈ°μ¤€μΌλ΅ μ²λ¦¬ν•κ³  μ μ–΄ν•λ” κ²ƒμ…λ‹λ‹¤.

λ°λ©΄, L7 λ΅λ“ λ°Έλ°μ„λ” μ£Όλ΅ νΈλν”½μ„ λ¶€ν• λ¶„μ‚°ν•κΈ° μ„ν• λ©μ μΌλ΅ μ‚¬μ©λ©λ‹λ‹¤. 
ν•μ§€λ§ λ‘ λ‹¤ μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ—μ„ μ‘λ™ν•λ©°, νΈλν”½μ„ HTTP/HTTPS κΈ°λ°μΌλ΅ λ¶„μ„ν•κ³ , μ„λ²„ κ°„μ— μ§€λ¥μ μΌλ΅ λΌμ°ν…ν•λ” κ³µν†µμ μ΄ μμµλ‹λ‹¤.

μ¦‰, L7 μ¤μ„μΉλ” λ” κ΄‘λ²”μ„ν• λ„¤νΈμ›ν¬ κ΄€λ¦¬ κΈ°λ¥μ„ μν–‰ν•λ” μ μ–΄ μ¥μΉ, L7 λ΅λ“λ°Έλ°μ„λ” λ¶€ν• λ¶„μ‚°μ— νΉν™”λ μ¥μΉμ…λ‹λ‹¤.

### L4 μ¤μ„μΉμ™€ L4 λ΅λ“λ°Έλ°μ„

L4 μ¤μ„μΉλ” OSI λ¨λΈμ 4κ³„μΈµ, μ¦‰ μ „μ†΅ κ³„μΈµμ—μ„ μ‘λ™ν•λ” μ¤μ„μΉλ΅, TCP, UDP κ°™μ€ μ „μ†΅ κ³„μΈµ ν”„λ΅ν† μ½μ„ κΈ°λ°μΌλ΅ νΈλν”½μ„ κ΄€λ¦¬ν•©λ‹λ‹¤.
L4 μ¤μ„μΉλ” μ£Όλ΅ IP μ£Όμ†μ™€ ν¬νΈ λ²νΈλ¥Ό κΈ°λ°μΌλ΅ νΈλν”½μ„ μ²λ¦¬ν•λ©°, μ΄λ” TCP/UDP ν—¤λ”μ μ •λ³΄λ§μ„ μ°Έμ΅°ν•΄ νΈλν”½μ„ μ„λ²„λ΅ λΌμ°ν…ν•λ” λ°©μ‹μ…λ‹λ‹¤.
λν• νΈλν”½μ μƒνƒλ¥Ό μ¶”μ ν•μ§€ μ•μΌλ©°, λ‹¨μν λ“¤μ–΄μ¤λ” μ”μ²­μ„ μ ν•©ν• μ„λ²„λ΅ λ¶„λ°°ν•©λ‹λ‹¤.
κ·Έλ ‡λ‹¤λ³΄λ‹ λ°©κΈ μ‚΄ν΄λ³Έ L7 μ¤μ„μΉλ³΄λ‹¤ λ” λΉ λ¥Έ μ²λ¦¬ μ†λ„λ¥Ό κ°€μ§€λ©°, νΈλν”½μ„ λ” κ°„λ‹¨ν•κ³  λΉ λ¥΄κ² λ¶„λ°°ν•  μ μμµλ‹λ‹¤.

L4 μ¤μ„μΉμ™€ L4 λ΅λ“ λ°Έλ°μ„λ” κΈ°λ¥μ μΌλ΅ κ±°μ λ™μΌν• λ°©μ‹ν•μ§€λ§, L7μ—μ„μ μ°¨μ΄μ κ³Ό λ™μΌν•κ²
L4 μ¤μ„μΉλ” λ” κ΄‘λ²”μ„ν• λ„¤νΈμ›ν¬ κ΄€λ¦¬ κΈ°λ¥μ„ μν–‰ν•λ” μ μ–΄ μ¥μΉ, L4 λ΅λ“λ°Έλ°μ„λ” λ¶€ν• λ¶„μ‚°μ— νΉν™”λ μ¥μΉμ…λ‹λ‹¤.

> **ν—λΈ**: λ„¤νΈμ›ν¬μ— μ—°κ²°λ λ¨λ“  μ¥μΉμ— λ°μ΄ν„°λ¥Ό λΈλ΅λ“μΊμ¤νΈν•λ©°, λ©μ μ§€μ— μƒκ΄€μ—†μ΄ λ°μ΄ν„°λ¥Ό λ³΄λƒ…λ‹λ‹¤. <BR>
> **μ¤μ„μΉ**: ν¨ν‚·μ λ©μ μ§€λ¥Ό ν™•μΈν•κ³ , ν•΄λ‹Ή μ¥μΉμ—λ§ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•©λ‹λ‹¤. <BR>
> **λΌμ°ν„°**: μ„λ΅ λ‹¤λ¥Έ λ„¤νΈμ›ν¬ κ°„μ ν†µμ‹ μ„ κ΄€λ¦¬ν•λ©°, λ°μ΄ν„°λ¥Ό λ„¤νΈμ›ν¬ κ²½λ΅λ¥Ό ν†µν•΄ λΌμ°ν…ν•©λ‹λ‹¤.
{: .prompt-warning }

## ALB vs NLB

AWS λ“±μ ν΄λΌμ°λ“ μ„λΉ„μ¤μ—μ„ L7 μ¤μ„μΉλ¥Ό μ΄μ©ν• λ΅λ“λ°Έλ°μ‹±μ€ ALB μ»΄ν¬λ„νΈλ΅ μ‚¬μ©ν•λ©°, <BR>
L4 μ¤μ„μΉλ¥Ό μ΄μ©ν• λ΅λ“λ°Έλ°μ‹±μ€ NLB μ»΄ν¬λ„νΈλ΅ ν•©λ‹λ‹¤.

AWS ν΄λΌμ°λ“ μ„λΉ„μ¤μ—μ„ μ κ³µν•λ” `ALB(Application Load Balancer)`μ™€ `NLB(Network Load Balancer)`λ” κ°κ° L7 λ΅λ“ λ°Έλ°μ‹±κ³Ό L4 λ΅λ“ λ°Έλ°μ‹±μ„ μ§€μ›ν•λ” λ΅λ“ λ°Έλ°μ„μ…λ‹λ‹¤. 
λ‘ λ‹¤ AWSμ ELB μ„λΉ„μ¤μ μΌν™μΌλ΅ μ κ³µλλ©°, κ°κ°μ κ³„μΈµμ—μ„ νΈλν”½μ„ μ²λ¦¬ν•λ” λ°©μ‹μ΄ λ‹¤λ¦…λ‹λ‹¤.

### ALB
ALBλ” μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ—μ„ μ‘λ™ν•λ” μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ λ΅λ“ λ°Έλ°μ„μ…λ‹λ‹¤. 
ALBλ” HTTP λ° HTTPSμ™€ κ°™μ€ μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ ν”„λ΅ν† μ½μ„ μ²λ¦¬ν•λ©°, 
URL κ²½λ΅, νΈμ¤νΈ μ΄λ¦„, HTTP ν—¤λ” λ° λ©”μ†λ“, μΏ ν‚¤ κ°’ λ“±μ„ κΈ°λ°μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ λ‚΄μ©μ„ λ¶„μ„ν•΄ νΉμ • μ„λ²„λ΅ νΈλν”½μ„ λ¶„λ°°ν— μ μμ–΄
λ‹¤μ–‘ν• μ΅°κ±΄μ— λ”°λΌ μ”μ²­μ„ μ²λ¦¬ν•λ” μ„Έλ°€ν• νΈλν”½ κ΄€λ¦¬κ°€ κ°€λ¥ν•©λ‹λ‹¤.
λν• ν΄λΌμ΄μ–ΈνΈμ™€ ALB μ‚¬μ΄μ—μ„ SSL/TLS μ•”νΈν™”λ¥Ό μ²λ¦¬ν•μ—¬ λ°±μ—”λ“ μ„λ²„λ΅λ” λ³µνΈν™”λ μ”μ²­μ„ μ „λ‹¬ν•΄ λ°±μ—”λ“ μ„λ²„μ λ¶€λ‹΄μ„ μ¤„μ—¬μ£Όλ” μ—­ν• μ„ ν•λ©°,
μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… λ°©ν™”λ²½(WAF) λ“± λ³΄μ• κΈ°λ¥κ³Ό ν†µν•©λμ–΄ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ λ³΄μ•μ„ κ°•ν™”ν•  μ μμµλ‹λ‹¤.

### NLB
NLBλ” TCPμ™€ UDP ν¨ν‚·μ„ κΈ°λ°μΌλ΅ νΈλν”½μ„ μ²λ¦¬ν•λ©°, μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ—μ„ μΌμ–΄λ‚λ” μ‘μ—…μ—λ” κ΄€μ—¬ν•μ§€ μ•λ” λ€μ‹  λ” λΉ λ¥΄κ³  κ²½λ‰ν™”λ λ°©μ‹μΌλ΅ νΈλν”½μ„ λ¶„μ‚°ν•©λ‹λ‹¤.
λ”°λΌμ„ λ§¤μ° λ†’μ€ μ²λ¦¬λ‰κ³Ό λ‚®μ€ μ§€μ—° μ‹κ°„μ„ μ κ³µν•λ” κ³ μ„±λ¥ λ΅λ“ λ°Έλ°μ‹±μ„ μ κ³µν•©λ‹λ‹¤. 
μλ°±λ§ κ°μ μ—°κ²°μ„ μ§€μ›ν•  μ μμΌλ©°, μ£Όλ΅ μ‹¤μ‹κ°„ μ• ν”λ¦¬μΌ€μ΄μ…, κ²μ„ μ„λ²„, IoT κΈ°κΈ° λ“±μ—μ„ μ‚¬μ©λ©λ‹λ‹¤.
λν• NLBλ” DNS κΈ°λ° λΌμ°ν…μ΄ μ•„λ‹ μ •μ  IP κΈ°λ°μ λΌμ°ν…μ„ μ§€μ›ν•κΈ°μ— κ³ μ • IP μ£Όμ†λ¥Ό μ κ³µν•  μ μμΌλ©°, νΉμ • ν¬νΈλ¥Ό ν†µν•΄ νΈλν”½μ„ λ¶„λ°°ν•©λ‹λ‹¤. 
λ¬Όλ΅  NLBλ„ TLS μΆ…λ£λ¥Ό μ§€μ›ν•μ§€λ§, μΌλ°μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ SSL μ•”νΈν™”λ νΈλν”½μ„ κ·Έλ€λ΅ μ„λ²„λ΅ μ „λ‹¬ν•λ©°, λ³µνΈν™”λ” μ„λ²„μ—μ„ μ²λ¦¬ν•λ‹¤κ³  ν•©λ‹λ‹¤.

## μ„±λ¥ μµμ ν™”μ™€ HTTPS λΉ„μ© μ κ°μ„ μ„ν• ELBμ μ „λµ

λ§μ§€λ§‰μΌλ΅ μ„±λ¥ μµμ ν™”μ™€ HTTPS λΉ„μ© μ κ°μ„ μ„ν•΄ ELBκ°€ ν™μ©ν•λ” λ‡ κ°€μ§€ μ£Όμ” μ „λµλ“¤μ— λ€ν•΄ μ•μ•„λ³΄λ©΄ μΆ‹μ„ κ²ƒ κ°™μµλ‹λ‹¤!
HTTPSλ” μ•”νΈν™”μ™€ λ³µνΈν™”λ΅ μΈν•΄ μ¶”κ°€μ μΈ CPU λ¶€ν•λ¥Ό λ°μƒμ‹ν‚¤κ³ , μΈμ¦μ„ κ΄€λ¦¬ λΉ„μ©μ΄ λ“¤κΈ° λ•λ¬Έμ—, μ„±λ¥κ³Ό λΉ„μ©μ„ ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ°,
ELBλ” μ΄λ¬ν• λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν• λ‡ κ°€μ§€ κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.

### SSL Offloading
μ„μ—μ„ μ„¤λ… λ“λ Έλ μ κ°€ μ±„νƒν• λ°©μ‹μΈ SSL Termination μ…λ‹λ‹¤!

SSL TerminationλΌκ³ λ„ λ¶λ¦¬λ” μ΄ λ°©μ‹μ€ ELBκ°€ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° HTTPS μ”μ²­μ„ λ°›κ³ , 
ν•΄λ‹Ή μ”μ²­μ„ μ•”νΈν™”λ μ±„λ΅ λ°±μ—”λ“ μ„λ²„λ΅ μ „λ‹¬ν•μ§€ μ•κ³ , ELBμ—μ„ μ•”νΈν™”λ¥Ό ν•΄μ (λ³µνΈν™”)ν• ν›„ HTTP μ”μ²­μΌλ΅ λ°±μ—”λ“ μ„λ²„μ— μ „λ‹¬ν•λ” λ°©μ‹μ…λ‹λ‹¤.
μ¦‰, ν΄λΌμ΄μ–ΈνΈμ™€ ELB κ°„μ ν†µμ‹ μ€ μ•”νΈν™”λμ§€λ§, ELBμ™€ λ°±μ—”λ“ μ„λ²„ κ°„μ ν†µμ‹ μ€ μ•”νΈν™”λμ§€ μ•μ€ HTTPλ΅ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤.

### SSL Passthrough

SSL Passthroughλ” ν΄λΌμ΄μ–ΈνΈμ™€ λ°±μ—”λ“ μ„λ²„ κ°„μ μ™„μ „ν• μ•”νΈν™” ν†µμ‹ μ„ μ μ§€ν•λ” λ°©μ‹μ…λ‹λ‹¤.
ν΄λΌμ΄μ–ΈνΈμ HTTPS μ”μ²­μ΄ ELBλ¥Ό κ±°μΉ  λ•, ELBλ” SSL μΆ…λ£λ¥Ό ν•μ§€ μ•κ³  ν•΄λ‹Ή μ”μ²­μ„ κ·Έλ€λ΅ λ°±μ—”λ“ μ„λ²„λ΅ μ „λ‹¬ν•©λ‹λ‹¤.
λ°±μ—”λ“ μ„λ²„λ” μμ‹ μ SSL μΈμ¦μ„λ¥Ό μ‚¬μ©ν•μ—¬ HTTPS μ”μ²­μ„ μ²λ¦¬ν•κ³  ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹ μ€ μ²μλ¶€ν„° λκΉμ§€ μ•”νΈν™”λ μƒνƒλ΅ μ μ§€λ©λ‹λ‹¤.

### SSL Session Reuse

SSL μ„Έμ…μ€ ν΄λΌμ΄μ–ΈνΈμ™€ ELBκ°€ μ²μ ν†µμ‹ ν•  λ• TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ—μ„ μ„Έμ… ν‚¤λ¥Ό ν‘μƒν•κ³  μ•”νΈν™”λ ν†µμ‹ μ„ μ‹μ‘ν•λ” κ³Όμ •μΌλ΅, μƒλ€μ μΌλ΅ μ‹κ°„μ΄ μ¤λ κ±Έλ¦¬λ©° λ¦¬μ†μ¤ μ†λ¨κ°€ ν½λ‹λ‹¤.
λ”°λΌμ„ SSL μ„Έμ… μ¬μ‚¬μ©μ„ ν†µν•΄ ν• λ² TLS ν•Έλ“μ…°μ΄ν¬λ¥Ό μ™„λ£ν• ν›„, λ™μΌν• ν΄λΌμ΄μ–ΈνΈκ°€ λ‹¤μ‹ μ—°κ²°ν•  λ• μƒλ΅μ΄ μ„Έμ…μ„ μƒμ„±ν•μ§€ μ•κ³  κΈ°μ΅΄ μ„Έμ…μ„ μ¬μ‚¬μ©ν•μ—¬ ν•Έλ“μ…°μ΄ν¬ μ‹κ°„μ„ μ μ•½ν•©λ‹λ‹¤.

###  HTTP/2

HTTP/2λ” κΈ°μ΅΄μ HTTP/1.1λ³΄λ‹¤ λ” ν¨μ¨μ μΈ λ°©μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•©λ‹λ‹¤. 
μ—¬λ¬ μ”μ²­μ„ ν•λ‚μ TCP μ—°κ²°μ—μ„ λ™μ‹μ— μ²λ¦¬ν•  μ μκ³  ν—¤λ” μ••μ¶•μ„ ν†µν•΄ λ°μ΄ν„° μ „μ†΅ ν¬κΈ°λ¥Ό μ¤„μ—¬μ¤λ‹λ‹¤.

- `λ©€ν‹°ν”λ ‰μ‹±`: ν• λ²μ TCP μ—°κ²°λ΅ μ—¬λ¬ μ”μ²­μ„ λ™μ‹μ— μ²λ¦¬ν•  μ μμ–΄ μ„±λ¥μ΄ ν–¥μƒλ©λ‹λ‹¤.
- `ν—¤λ” μ••μ¶•`: μ”μ²­ λ° μ‘λ‹µ μ‹ μ‚¬μ©ν•λ” ν—¤λ”λ¥Ό μ••μ¶•ν•΄ λ„¤νΈμ›ν¬ νΈλν”½μ„ μ¤„μ…λ‹λ‹¤.
- `λ³΄μ•κ³Ό μ„±λ¥`: HTTPSλ¥Ό ν†µν•΄μ„λ§ μ‚¬μ©ν•  μ μμΌλ©°, μ•”νΈν™”λ μƒνƒμ—μ„ λΉ λ¥Έ λ°μ΄ν„° μ „μ†΅μ΄ κ°€λ¥ν•©λ‹λ‹¤.

### μλ™ μ¤μΌ€μΌλ§ λ° μ—°κ²° μ¬μ‚¬μ©
νΈλν”½μ΄ μ¦κ°€ν•κ±°λ‚ κ°μ†ν•  λ• λ°±μ—”λ“ μ„λ²„μ μλ¥Ό μλ™μΌλ΅ μ΅°μ ν•¨μΌλ΅μ¨ λ¦¬μ†μ¤λ¥Ό ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•κ³  μ„±λ¥μ„ μµμ ν™”ν•  μ μμΌλ©°,
TLS μ—°κ²°μ€ λΉ„μ‹Ό λΉ„μ©μ΄ λ°μƒν•κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈμ™€ ELB κ°„μ μ—°κ²°λΏλ§ μ•„λ‹λΌ ELBμ™€ λ°±μ—”λ“ μ„λ²„ κ°„μ μ—°κ²°λ„ μ¬μ‚¬μ©ν•μ—¬ μ„±λ¥μ„ ν–¥μƒμ‹ν‚µλ‹λ‹¤.

### κ²°λ΅ 
- μ‘μ€ νΈλν”½μ—μ„ μ„±λ¥ μµμ ν™”μ™€ λΉ„μ© μ κ°μ„ λ™μ‹μ— μ¶”κµ¬ν•  λ•λ” SSL Terminationλ¥Ό μ μ©ν•μ—¬ ELBμ—μ„ μ•”νΈν™”/λ³µνΈν™”λ¥Ό μ²λ¦¬ν•κ³ , 
λ°±μ—”λ“ μ„λ²„λ” HTTPλ΅ ν†µμ‹ ν•¨μΌλ΅μ¨ CPU λ¶€ν•λ¥Ό μ¤„μ΄κ³  λΉ„μ©μ„ μ κ°ν•  μ μμµλ‹λ‹¤.
- κ³ κΈ‰ λ³΄μ•κ³Ό μ„±λ¥μ„ λ™μ‹μ— κ³ λ ¤ν•  λ•λ” SSL Passthroughλ¥Ό μ„ νƒν•μ—¬, λ¨λ“  κµ¬κ°„μ—μ„ μ•”νΈν™”λ¥Ό μ μ§€ν•κ³  λ³΄μ•μ„ κ°•ν™”ν•  μ μμµλ‹λ‹¤. 
μ΄ κ²½μ° λ°±μ—”λ“ μ„λ²„μ μ„±λ¥ μµμ ν™”λ” HTTP/2λ¥Ό ν†µν•΄ μ΄λ£¨μ–΄μ§ μ μμµλ‹λ‹¤.
- λΉλ²ν• μ—°κ²°μ„ μ²λ¦¬ν•  λ•λ” SSL Session Reuseλ¥Ό μ μ©ν•μ—¬ ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ„ μµμ ν™”ν•κ³  μ„±λ¥μ„ ν–¥μƒμ‹ν‚¬ μ μμµλ‹λ‹¤.

## λ²μ™Έ
μ²μ github λΈ”λ΅κ·Έ μ„¤μ •μ„ ν•λ©΄μ„, κ³µλ¶€μ™€ μ›¬λ§ν• λ‚΄μ©μ€ κµ¬κΈ€λ§λ§ ν•λ©΄ λ¨λ“  λΈ”λ΅κ·Έμ— μ΅΄μ¬ν•λ‹κΉ
λ‚¨λ“¤μ΄ λ‹¤ μ“Έ μ μκ³  λ‚΄κ°€ λ“λ¬λ‚μ§€ μ•λ” λΈ”λ΅κ·Έκ°€ μ•„λ‹λΌ
λ‚΄ κ²½ν—μ΄ λ…Ήμ•„ μκ³  λ‚΄κ°€ μ–΄λ–¤ μ‚¬λμΈμ§€ μ–΄λ–¤ μ‚¬κ³ λ¥Ό κ°–κ³  ν•™μµμ„ ν•λ”μ§€λ¥Ό λ³΄λ” μ‚¬λλ“¤λ΅ ν•μ—¬κΈ κ°„μ ‘μ μΌλ΅ μ• μ μκ²λ” ν•λ”,
λ‚λ§μ΄ μ“Έ μ μλ” κΈ€μ„ μ“°μ μƒκ°ν–μ—μµλ‹λ‹¤. <br/> λ‚΄κ°€ ν–λ νΈλ¬λΈ” μν…, κ·Έλ¦¬κ³  κ·Έκ±Έ μ–΄λ–»κ² νƒ€νν•λ”μ§€,
κΈ°μ μ„ λ„μ…ν•κ³ μ ν•  λ• μ–΄λ–¤ νλ‹¨μΌλ΅ μ„ νƒν•λ”μ§€, κ³µλ¶€ν•κ³ μ ν•λ”κ² μƒκΈ°κ±°λ‚ μ²μ κ²½ν—ν•΄λ³΄λ” κΈ°μ μ„ μ μ©ν•  λ• 
μ–΄λ–¤ ν…μ¤νΈλ¥Ό κ±°μΉκ³  μ–΄λ–¤ κ¶κΈμ¦μ„ κ°–κ³  κ³µλ¶€λ¥Ό ν•λ”μ§€λ¥Ό λ…Ήμ΄κ³ μ ν–λ”λ°
μƒκ°λ³΄λ‹¤ μ–΄λ ¤μ΄ κ²ƒ κ°™μ•„ κ³ λ―Όμ΄λ„¤μ” π¶β€π«οΈ  

λ‹΄κ³  μ‹¶μ€ λ‚΄μ©λ“¤μ„ μ±„μ›λ„£λ‹¤λ³΄λ‹ ν• ν¬μ¤νΈμ— νΈν΅μ΄ λ„λ¬΄ κΈΈλ‹¤λ λλ‚λ„ λ“λ„¤μ”
κ°μΈμ μΌλ΅ NLBμ™€ ALB λ“± μ‹¤μ§μ μΈ λ΅λ“λ°Έλ°μ‹±κ³Ό κ΄€λ ¨λ λ‚΄μ©μ€ μ¶”ν›„μ— μ‹¤μ λ΅ νΈλν”½ λ¶„μ‚°μ„ μ„ν•΄ λ΅λ“λ°Έλ°μ„ κΈ°λ¥μ„ μ‚¬μ©ν•κ² λμ„ λ• μ‘μ„±ν•λ©΄ λ” μΆ‹μ•μ„ κ²ƒ κ°™κΈ΄ ν•μ§€λ§
μ•„μ§ κΈ°μ•½μ΄ μ—†κΈ° λ•λ¬Έμ— μ§¤λ§‰ν•κ²λ‚λ§ λ‚΄μ©μ— λ‹΄μ•„λ³΄κ³  μ‹¶μ–΄ μ•μ‹¬μ„ λ¶€λ¦° κ²ƒλ„ μλ” κ²ƒ κ°™μµλ‹λ‹¤

λ­λ“  ν•λ‹¤λ³΄λ©΄ μ• λλ”κ² μ—†λ“―, λΈ”λ΅κ·Έλ„ μ“°λ‹¤λ³΄λ©΄ λκ² μ£ ?
